if (self.CavalryLogger) { CavalryLogger.start_js(["eq+GI"]); }

__d("PageInsightsMonitoringTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PageInsightsMonitoringLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PageInsightsMonitoringLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PageInsightsMonitoringLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorVC=function(a){this.$1.actor_vc=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setCaller=function(a){this.$1.caller=a;return this};c.setDesummarizationDrillDownName=function(a){this.$1.desummarization_drill_down_name=a;return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEntAsyncExportRunID=function(a){this.$1.ent_async_export_run_id=a;return this};c.setEntExportFormatID=function(a){this.$1.ent_export_format_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setExportAsyncJobID=function(a){this.$1.export_async_job_id=a;return this};c.setExportFormat=function(a){this.$1.export_format=a;return this};c.setExportLevel=function(a){this.$1.export_level=a;return this};c.setIds=function(a){this.$1.ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setInsightsSubTab=function(a){this.$1.insights_sub_tab=a;return this};c.setInsightsUIReferrer=function(a){this.$1.insights_ui_referrer=a;return this};c.setMetrics=function(a){this.$1.metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setNavigationSection=function(a){this.$1.navigation_section=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPageResultsObject=function(a){this.$1.page_results_object=a;return this};c.setPeriods=function(a){this.$1.periods=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPost=function(a){this.$1.post=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setPostInsightFetchEventType=function(a){this.$1.post_insight_fetch_event_type=a;return this};c.setPostResultsObject=function(a){this.$1.post_results_object=a;return this};c.setSince=function(a){this.$1.since=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTypeOfObjectReportedOn=function(a){this.$1.type_of_object_reported_on=a;return this};c.setUntil=function(a){this.$1.until=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={actor_vc:!0,app_id:!0,caller:!0,desummarization_drill_down_name:!0,duration:!0,ent_async_export_run_id:!0,ent_export_format_id:!0,event:!0,exception:!0,export_async_job_id:!0,export_format:!0,export_level:!0,ids:!0,insights_sub_tab:!0,insights_ui_referrer:!0,metrics:!0,navigation_section:!0,page_id:!0,page_results_object:!0,periods:!0,post:!0,post_id:!0,post_insight_fetch_event_type:!0,post_results_object:!0,since:!0,time:!0,type_of_object_reported_on:!0,until:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PageInsightsAnnouncementCard.react",["cx","fbt","ix","BasicFBNux","HubbleContext","Image.react","PageInsightsMonitoringEventTypeModule","PageInsightsMonitoringTypedLogger","React","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=6568;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={organicUpdateCardEnabled:b("HubbleContext").get("linkClicksNux")},d.$2=function(a){return d.$1=a},d.$3=function(){return d.$1},d.$4=function(){d.setState({organicUpdateCardEnabled:!1}),b("HubbleContext").setKey("linkClicksNux",!1),b("BasicFBNux").onDismiss(j),d.forceUpdate(),new(b("PageInsightsMonitoringTypedLogger"))().setEvent(b("PageInsightsMonitoringEventTypeModule").WWW_LINK_CLICK_FIX_XOUT_CLICK).setPageID(String(d.props.pageID)).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("BasicFBNux").onView(j),new(b("PageInsightsMonitoringTypedLogger"))().setEvent(b("PageInsightsMonitoringEventTypeModule").WWW_LINK_CLICK_FIX_IMPRESSION).setPageID(String(this.props.pageID)).log()};d.render=function(){var a=b("React").createElement(b("XUIContextualDialog.react"),{contextRef:this.$3,hoverContextRef:this.$3,position:"above",alignment:"right",labelledBy:"organic_reach_change",key:"hovercard",shown:this.state.organicUpdateCardEnabled},b("React").createElement("div",{className:"_751a"},b("React").createElement("div",null,b("React").createElement(b("XUIContextualDialogTitle.react"),{className:"_751b"},h._("New Link Clicks Measurement"),b("React").createElement(b("XUICloseButton.react"),{className:"_751c",size:"medium",onClick:this.$4}))),b("React").createElement("div",{className:"_751d"},h._("We've updated how we measure link clicks for Pages to be more consistent with how we measure link clicks for ads. This update allows for more comparability between paid and organic link clicks for your Page's posts and stories."))),b("React").createElement("div",{className:"_751a"},b("React").createElement("div",null,b("React").createElement(b("XUIContextualDialogTitle.react"),{className:"_751b"},h._("What this means for your Page"))),b("React").createElement("div",{className:"_751d"},h._("This update doesn't change how your content was delivered, the number of clicks that actually occurred, or how paid link clicks were charged. This change will account for:"),b("React").createElement("ul",{className:"_751e"},b("React").createElement("li",null,h._("Inclusion of paid link clicks that occur on Instagram")),b("React").createElement("li",null,h._("Recategorization of some clicks that were previously categorized as 'other'"))))));return b("React").createElement("span",{className:"_751f",ref:"root"},this.props.children,b("React").createElement(b("Image.react"),{ref:this.$2,className:"_751g",src:i("76155")}),a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("HubbleHintsMetrics.react",["cx","BUIInsightsHorizontalBarChart.react","CandelaConstants","CandelaGroupScaleBuilder","CandelaStyleSheet","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("CandelaConstants").Alignment,i=b("CandelaGroupScaleBuilder").group;c=b("CandelaConstants").ScaleType;var j=30,k=20,l={name:{label:"Hint Name",type:c.CATEGORY},value:{label:"Reach count",type:c.NUMBER}},m={name:{label:"Hint Name",type:c.CATEGORY},value:{label:"Reach count",type:c.PERCENTAGE}},n=b("CandelaStyleSheet").fromJS({'axis[alignment="top"]':{visibility:"hidden"},'axis[orientation="horizontal"]':{visibility:"hidden"},'axis[orientation="vertical"]':{width:200},axisbucketmark:{color:"#485665",fontSize:12,padding:18},"bargroup:hover":{fill:"#eee",opacity:.2},bar:{margin:0},bargroup:{margin:1,fill:"#eee"},'bar[series="value"]':{fill:"#9DACCB"},barlabel:{color:"#999999",fontSize:11},gridline:{visibility:"hidden"},"bar.highlighted":{fill:"#5890ff"},"bar.highlighted>barlabel":{color:"#5890ff"}});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.createGroupPercentageBarLabelFormatterFactory=function(a){__p&&__p();return function(b,c){return function(b,c){switch(a){case"rate":return(100*b).toFixed(2)+"%";case"compare_rate":if(b>0)return"+"+(100*b).toFixed(2)+"%";else if(b<0)return"-"+(100*b).toFixed(2)+"%";else return(100*b).toFixed(2)+"%"}return b.toString()}}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.metrics.length*j+k,c=this.createGroupPercentageBarLabelFormatterFactory(this.props.metricsType);return b("React").createElement("div",{className:"_vc0"},b("React").createElement("div",{className:"_3phy"},b("React").createElement("div",{className:"_5cmo"},this.props.header),b("React").createElement("div",{className:"_2qqg"},this.props.subtitle)),b("React").createElement("div",null,b("React").createElement(b("BUIInsightsHorizontalBarChart.react"),{alignment:h.LEFT,barLabelFormatterFactory:c,data:this.props.metrics,height:a,plotX:[i("value").from(0).extendInput(0,1)],plotY:i("name"),schema:this.props.metricsType=="count"?l:m,styleSheet:n,width:885})))};return c}(b("React").Component);d.propTypes={metrics:a.array.isRequired,header:a.node.isRequired,metricsType:a.string.isRequired,subtitle:a.node};e.exports=d}),null);
__d("HubblePostView.react",["Arbiter","AsyncRequest","BizSiteIdentifier.brands","DOM","FBFeedLocations","InsightsLoadingIndicator.react","React","ReactDOM","SubscriptionsHandler","getOwnObjectValues"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;var g=0;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loading:!0},d.updatePreview=function(){var a="HubblePostView-"+ ++g,c=b("DOM").create("div",{id:a});b("DOM").setContent(b("ReactDOM").findDOMNode(d.refs.preview),c);d.setState({loading:!0});d.request=new(b("AsyncRequest"))().setData({destination_dom_id:a,feed_location:d.props.feedLocation,identifier:d.props.identifier,page_id:d.props.pageID,business_id:b("BizSiteIdentifier.brands").getBusinessID()}).setHandler(d.previewDidLoad).setErrorHandler(d.previewError).setMethod("GET").setReadOnly(!0).setURI("/ajax/pages/insights/view_story/");d.request.send()},d.previewDidLoad=function(){d.setState({loading:!1}),d.props.onLoadComplete&&d.props.onLoadComplete()},d.previewError=function(){d.setState({loading:!1}),d.props.onLoadError&&d.props.onLoadError()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.updatePreview(),this.$1=new(b("SubscriptionsHandler"))(),this.props.useNewVideoMetrics&&this.$1.addSubscriptions(b("Arbiter").subscribe("video/edited"+this.props.pageID,this.updatePreview))};d.componentWillUnmount=function(){this.request&&this.request.abandon(),this.$1.release()};d.render=function(){var a=null;this.state.loading&&(a=b("React").createElement(b("InsightsLoadingIndicator.react"),null));return b("React").createElement("div",null,b("React").createElement("div",{ref:"preview"}),a)};return c}(b("React").Component);c.propTypes={feedLocation:a.oneOf(b("getOwnObjectValues")(b("FBFeedLocations"))),identifier:a.string,onLoadComplete:a.func,onLoadError:a.func,pageID:a.string,useNewVideoMetrics:a.bool};e.exports=c}),null);
__d("HubblePrimaryMetric.react",["cx","InsightsNumUtils","React","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=b("keyMirror")({flat:null,stacked:null});c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.className;this.props.layout==h.flat&&(a=b("joinClasses")("_5j8e",this.props.className));return b("React").createElement("div",{className:a},b("React").createElement("div",{className:"_55k2"},b("InsightsNumUtils").prettyInt(this.props.number)),b("React").createElement("div",{className:"_55k3"},this.props.label))};return c}(b("React").Component);c.defaultProps={layout:h.flat};c.propTypes={label:a.object.isRequired,layout:a.oneOf(Object.keys(h)),number:a.number.isRequired};c.LAYOUT=h;e.exports=c}),null);
__d("HubbleSecondaryMetric.react",["cx","InsightsNumUtils","React","Tooltip.react","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("keyMirror")({flat:null,stacked:null});d=b("keyMirror")({none:null,ruled:null});f=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.getLayoutClass=function(){switch(c.props.layout){case"flat":return"_5fbt";default:return""}},c.getDecorationClass=function(){switch(c.props.decoration){case"ruled":return"_5fbu";default:return""}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_55vy",this.getDecorationClass(),this.getLayoutClass(),this.props.className),c=b("joinClasses")("_55j-","_50f7"),d=b("joinClasses")("_55j_","_50f8");this.props.isProductMetric&&(d=b("joinClasses")(d,"_2sro"));c=b("React").createElement("span",null,b("React").createElement("div",{className:c},b("InsightsNumUtils").prettyInt(this.props.number))," ",b("React").createElement("div",{className:d},this.props.label));return b("React").createElement("div",{className:a,style:this.props.style},this.props.tooltip?b("React").createElement(b("Tooltip.react"),{tooltip:this.props.tooltip,alignH:"center"},c):c)};return c}(b("React").Component);f.propTypes={decoration:a.oneOf(Object.keys(d)),layout:a.oneOf(Object.keys(c)),label:a.oneOfType([a.string,a.element]).isRequired,number:a.number.isRequired,style:a.object,key:a.string,tooltip:a.string,isProductMetric:a.bool};f.LAYOUT=c;f.DECORATION=d;e.exports=f}),null);
__d("HubbleSecondaryMetricGroup.react",["cx","React","cloneWithProps_DEPRECATED","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.children,c=(1/b("React").Children.count(a)*100).toFixed(1)+"%";a=b("React").Children.map(a,function(a){return a?b("cloneWithProps_DEPRECATED")(a,{className:"_5fbx",style:{width:c}}):a});var d=b("joinClasses")("_5fby",this.props.className);return b("React").createElement("div",{className:d},b("React").createElement("div",{className:"_5fbz"},a))};return c}(b("React").Component);e.exports=a}),null);
__d("HubbleApiClient",["AsyncRequest","HubbleContext","InsightsApiClient","PageInsightsApiAccess"],(function(a,b,c,d,e,f){__p&&__p();a={get:function(a,c,d){if(!b("HubbleContext").getPageID())return;a=b("HubbleContext").getPageID()+(a||"");c.version&&(a=c.version+"/"+a,c.version=null);this.getRaw(a,c,d)},getPosts:function(a,c){a.page_id=a.page_id||b("HubbleContext").getPageID();if(!a.page_id)return;a=new(b("AsyncRequest"))().setData(a).setMethod("GET").setPreBootloadHandler(function(a){c(a.payload)}).setReadOnly(!0).setURI("/ajax/pages/insights/post_fields").setErrorHandler(function(a){c({posts:[],cursor:null,type:"published"})});a.send()},getRaw:function(a,c,d){b("InsightsApiClient").getRaw(b("PageInsightsApiAccess"),a,c,d)}};e.exports=a}),null);
__d("AudienceTargetingFieldDisplayName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SOME_HINTS_MATCHED:"Some Hints Matched",NO_HINTS_MATCHED:"No Hints Matched"})}),null);
__d("HubblePostUtils",["AudienceTargetingFieldDisplayName","HubbleContext","getOwnObjectValues","mapObject","sumOfArray"],(function(a,b,c,d,e,f){__p&&__p();a={_metrics:["post_engaged_users","post_clicks_by_type","post_impressions_by_paid_non_paid","post_impressions_unique","post_activity_by_action_type","post_negative_feedback_by_type","post_impressions_paid_unique","post_impressions_organic_unique","post_impressions_fan_unique","post_video_views_organic","post_video_views_paid"],parseInsights:function(a,c){__p&&__p();var d=!c;c=c||{};var e=c.post_clicks_by_type||{},f=c.post_activity_by_action_type||{},g=c.post_negative_feedback_by_type||{},h=c.post_impressions_unique||0,i=c.post_impressions_by_paid_non_paid||{};f={like:f.like||0,comment:f.comment||0,share:f.share||0};var j=b("sumOfArray")(b("getOwnObjectValues")(f)),k={};k.link=e["link clicks"]||0;a==="video"||a==="premiumVideo"?k.video_play=e["video play"]||0:a!=="sharedVideo"&&(k.photo_view=e["photo view"]||0);k.other=e["other clicks"]||0;k.other<0&&(k.other=0);a=b("sumOfArray")(b("getOwnObjectValues")(k));e={hide_clicks:g.hide_clicks||0,hide_all_clicks:g.hide_all_clicks||0,report_spam_clicks:g.report_spam_clicks||0,unlike_page_clicks:g.unlike_page_clicks||0};g=b("sumOfArray")(b("getOwnObjectValues")(e));var l=c.post_impressions_paid_unique||0,m=h-l,n=b("HubbleContext").get("canSeeOrganicViralChange");if(n){n=c.post_impressions_organic_unique||0;m<n&&(m=n)}n=c.post_impressions_fan_unique||0;l={paid:l,organic:m,total:h,fans:n,nonfans:h-n};m={paid:i.paid||0,organic:i.unpaid||0,total:i.total||0};n=c.post_engaged_users||0;i=h>0?n/h:0;c=c.post_video_views_organic+c.post_video_views_paid;return{clicks:a,clicksByType:k,engagedUsers:n,impressionByType:m,lcs:j,lcsByType:f,negative:g,negativeFeedbackByType:e,reach:h,reachByType:l,engagementRate:i,videoViews:c,shouldSkipValidation:d}},_formatPostInsightsResponse:function(a,c){return b("mapObject")(c,function(b){var c={};if(!b.data)return c;b.data.forEach(function(a){c[a.name]=a.values[0].value});a.forEach(function(a){Object.prototype.hasOwnProperty.call(c,a)||(c[a]=null)});return c})},formatPostHintsRateMetrics:function(a,b){var c={};for(var d in a){var e=a[d],f=b[d];f!==void 0&&(c[d]=f===0?0:e/f)}return c},formatPostHintsImpRatioMetrics:function(a,b){var c={};for(var d in a){var e=a[d];c[d]=b===0?0:e/b}return c},formatPostHintsInsights:function(a,c,d){__p&&__p();var e=[];d===void 0&&(d=this.sortPostHintsMetrics(a));for(var f in d){if(!c&&(f===b("AudienceTargetingFieldDisplayName").SOME_HINTS_MATCHED||f===b("AudienceTargetingFieldDisplayName").NO_HINTS_MATCHED))continue;d=this._formatPostHintKeys(f);d={name:d,value:a[f]};e.push(d)}return e},_formatPostHintKeys:function(a){var b=32;b=a.length>b?a.substring(0,b-3).trim()+"...":a;return b},sortPostHintsMetrics:function(a){var b={},c=Object.keys(a).sort(function(b,c){return a[c]-a[b]});c.forEach(function(c){b[c]=a[c]});return b},getReachByTypeKeysMapping:function(){return{total:"page_insights_post_reach",paid:"page_insights_post_paid_reach",organic:"page_insights_post_oragnic_reach",fans:"page_insights_post_fan_reach",nonfans:"page_insights_post_non_fan_reach"}},getImpressionByTypeKeysMapping:function(){return{total:"page_insights_post_total_impressions",paid:"page_insights_post_paid_impressions",organic:"page_insights_post_organic_impressions"}}};e.exports=a}),null);
__d("SanityCheckNames",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PI_API_RESPONSE:"page_insights.api_responded_with_data",PI_REACH_GT_ENGMT:"page_insights.reach_greater_than_engagement",AI_REACH_IMPRESSIONS:"ads_insights.reach_impressions",AI_CLICKS:"ads_insights.clicks",AI_DWELLS:"ads_insights.dwells",AI_SPEND:"ads_insights.spend",AI_VIDEO_VIEWS:"ads_insights.video_views"})}),null);
__d("SanityCheckStatuses",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VALID:1,INVALID_CONFIG:2,CHECKTIME_FAILURE:3})}),null);
__d("SanityCheck",["FBLogger","SanityCheckNames","SanityCheckStatuses"],(function(a,b,c,d,e,f){__p&&__p();var g=Object.keys(b("SanityCheckNames")).map(function(a){return b("SanityCheckNames")[a]});a=function(){"use strict";__p&&__p();function a(a,c){this.$1=b("SanityCheckStatuses").VALID,this.$2=a,this.$3=c,g.indexOf(this.$3)===-1&&(b("FBLogger")("FIXME").mustfix("Invalid SanityCheck name: %s",this.$3),this.$1=b("SanityCheckStatuses").INVALID_CONFIG)}var c=a.prototype;c.check=function(a){if(this.$1!==b("SanityCheckStatuses").VALID)return{name:this.$3,status:this.$1};var c;try{c=this.$2.apply(null,a)}catch(c){b("FBLogger")("sanity_check").catching(c).mustfix("Failed to check");return{args:a,status:b("SanityCheckStatuses").CHECKTIME_FAILURE}}return{args:a,name:this.getName(),passed:c,status:this.$1}};c.getName=function(){return this.$3};return a}();e.exports=a}),null);
__d("PIAPIResponseSanityCheck",["SanityCheck","SanityCheckNames"],(function(a,b,c,d,e,f){e.exports=new(b("SanityCheck"))(function(a,b){return!!a.metric&&b.data.length>0},b("SanityCheckNames").PI_API_RESPONSE)}),null);
__d("SanityCheckChecker",[],(function(a,b,c,d,e,f){var g={check:function(a,b){return a.check(b)},checkMulti:function(a){return a.map(function(a){return g.check(a.sanityCheck,a.args)})}};e.exports=g}),null);
__d("SanityCheckAdapter",["BanzaiLogger","BanzaiODS","SanityCheckChecker","SanityCheckStatuses"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a,c,d,e){d=d||{};c=[a.getName(),JSON.stringify(c),JSON.stringify(d)].join(":");if(Object.prototype.hasOwnProperty.call(g,c))return;g[c]=!0;e.passed||b("BanzaiLogger").log("SanityCheckLoggerConfig",Object.assign(d,{name:a.getName()}));b("BanzaiODS").bumpFraction("sanity_check.pass_ratio","sanity_check."+a.getName(),e.passed?1:0,1)}a={check:function(a,c,d){var e=b("SanityCheckChecker").check(a,c);e.status===b("SanityCheckStatuses").VALID&&h(a,c,d,e);return e.passed}};e.exports=a}),null);
__d("HubbleApiWrapper",["HubbleApiClient","HubbleContext","HubblePostUtils","InsightsUtils","PIAPIResponseSanityCheck","SanityCheckAdapter","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){__p&&__p();return function(c){var d=null;if(c.cursor){var e=c.posts[c.posts.length-1].created_time;d=function(a){b("HubbleApiClient").getPosts({cursor:c.cursor,type:c.type,until:e,breaking_only:c.breaking_only,post_filter_type:c.post_filter_type},g(a))}}else c.paging&&c.paging.next&&(d=function(a){b("HubbleApiClient").getRaw(c.paging.next,{},g(a))});a(c,d)}}var h={_formatPageInsightsPerPostResponse:function(a,b){__p&&__p();var c={},d=/^([^\/]+)\//;b.data.forEach(function(b){var e=d.exec(b.id);if(!e||!e[1])return;e=e[1];var f;Object.prototype.hasOwnProperty.call(c,e)?f=c[e]:(c[e]=f={},a.forEach(function(a){f[a]=null}));f[b.name]=b.values[0].value});return c},getPageInfo:function(a,c){var d="";b("HubbleApiClient").get(d,a,c)},getPageInsights:function(a,c){a=b("InsightsUtils").formatParams(a),b("HubbleApiClient").get("/insights",a,function(d){b("setImmediate")(b("SanityCheckAdapter").check.bind(b("SanityCheckAdapter"),b("PIAPIResponseSanityCheck"),[a,d],{metrics:JSON.stringify(a.metric),pageID:b("HubbleContext").getPageID()})),c(b("InsightsUtils").formatInsightsResponse(d))})},getPageInsightsPerPost:function(a,c){a=b("InsightsUtils").formatParams(a);function d(b){return g(function(c,e){var f=e?function(a){e(d(a))}:null;b(h._formatPageInsightsPerPostResponse(a.metric,c),f)})}b("HubbleApiClient").get("/insights",a,d(c))},getPostInsights:function(a,c){b("HubbleApiClient").getRaw("/insights",a,function(d){c(b("HubblePostUtils")._formatPostInsightsResponse(a.metric,d))})},getVersionedPostInsights:function(a,c){var d="insights";a.version&&(d=a.version+"/"+d,a.version=null);b("HubbleApiClient").getRaw(d,a,function(d){c(b("HubblePostUtils")._formatPostInsightsResponse(a.metric,d))})},getPostsByIDs:function(a,c){a=b("InsightsUtils").formatParams(a),b("HubbleApiClient").getPosts(a,c)},getPosts:function(a,c){a=b("InsightsUtils").formatParams(a),b("HubbleApiClient").getPosts(a,g(c))},getTotalPageLikes:function(a){b("HubbleContext").get("globalPagesRootID")?h.getPageInfo({fields:["country_page_likes"]},function(b){a(b.country_page_likes)}):h.getPageInfo({fields:["likes"]},function(b){a(b.likes)})}};e.exports=h}),null);
__d("HubblePostsDataLayer",["fbt","AsyncRequest","GraphAPI","HubbleApiWrapper","HubbleConstants","HubbleContext","HubblePostUtils","getOwnObjectValues","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h=50,i=2.5,j=["post_video_avg_time_watched","post_video_complete_views_organic","post_video_complete_views_organic_unique","post_video_complete_views_paid","post_video_complete_views_paid_unique","post_video_length","post_video_retention_graph","post_video_views_organic","post_video_views_organic_unique","post_video_views_paid","post_video_views_paid_unique"],k=["post_impressions_unique","post_video_views_organic","post_video_views_paid","post_video_avg_time_watched","post_video_length"],l=j.concat(["post_video_avg_time_watched_by_ad_id","post_video_complete_views_paid_by_ad_id","post_video_complete_views_paid_by_ad_id_unique","post_video_retention_graph_by_ad_id","post_video_views_paid_by_ad_id","post_video_views_paid_by_ad_id_unique"]),m=["post_video_avg_time_watched","post_video_complete_views_30s","post_video_complete_views_30s_autoplayed","post_video_complete_views_30s_clicked_to_play","post_video_complete_views_30s_organic","post_video_complete_views_30s_paid","post_video_complete_views_30s_unique","post_video_length","post_video_retention_graph","post_video_retention_graph_autoplayed","post_video_retention_graph_clicked_to_play","post_video_sound_on","post_video_starts","post_video_starts_autoplayed","post_video_starts_clicked_to_play","post_video_starts_organic","post_video_starts_paid","post_video_starts_unique","post_video_views","post_video_views_autoplayed","post_video_views_clicked_to_play","post_video_views_organic","post_video_views_paid","post_video_views_unique"],n=["post_impressions_unique","post_interests_impressions_unique","post_interests_consumptions_by_type_unique","post_interests_action_by_type_unique"],o=["post_audio_listen_time","post_audio_listen_count"],p,q;function r(a,b,c){var d=!1;a(function(a,c){d||b(a,c)},function(a,b){d||c(a,b)});return function(){d=!0}}function s(a){var b=a.post_video_avg_time_watched/a.post_video_length,c=a.post_video_avg_time_watched,d=a.post_impressions_unique||0,e=a.post_video_length;a=a.post_video_views_organic+a.post_video_views_paid;return{avgCompletionPerc:b,avgTimeWatched:c,reach:d,videoLength:e,videoViews:a}}function t(a){return{aggregate:{averageTimeWatched:a.post_video_avg_time_watched,completedViews:{repeat:{organic:a.post_video_complete_views_organic-a.post_video_complete_views_organic_unique,paid:a.post_video_complete_views_paid-a.post_video_complete_views_paid_unique},total:{organic:a.post_video_complete_views_organic,paid:a.post_video_complete_views_paid},unique:{organic:a.post_video_complete_views_organic_unique,paid:a.post_video_complete_views_paid_unique}},views:{repeat:{organic:a.post_video_views_organic-a.post_video_views_organic_unique,paid:a.post_video_views_paid-a.post_video_views_paid_unique},total:{organic:a.post_video_views_organic,paid:a.post_video_views_paid},unique:{organic:a.post_video_views_organic_unique,paid:a.post_video_views_paid_unique}},viewingBehavior:a.post_video_retention_graph!==null?b("getOwnObjectValues")(a.post_video_retention_graph):null},videoLength:a.post_video_length}}function u(a){return!a?{}:{aggregate:{averageTimeWatched:a.post_video_avg_time_watched,completedViews:{autoplayed:a.post_video_complete_views_30s_autoplayed,clickedToPlay:a.post_video_complete_views_30s_clicked_to_play,organic:a.post_video_complete_views_30s_organic,paid:a.post_video_complete_views_30s_paid,repeat:a.post_video_complete_views_30s-a.post_video_complete_views_30s_unique,unique:a.post_video_complete_views_30s_unique},playsWithSoundOn:a.post_video_sound_on,videoStarts:a.post_video_starts,views:{autoplayed:a.post_video_views_autoplayed,clickedToPlay:a.post_video_views_clicked_to_play,organic:a.post_video_views_organic,paid:a.post_video_views_paid,repeat:a.post_video_views-a.post_video_views_unique,unique:a.post_video_views_unique},starts:{autoplayed:a.post_video_starts_autoplayed,clickedToPlay:a.post_video_starts_clicked_to_play,organic:a.post_video_starts_organic,paid:a.post_video_starts_paid,repeat:a.post_video_starts-a.post_video_starts_unique,unique:a.post_video_starts_unique},viewingBehaviorAutoplayed:a.post_video_retention_graph_autoplayed!==null?b("getOwnObjectValues")(a.post_video_retention_graph_autoplayed):null,viewingBehaviorClickedToPlay:a.post_video_retention_graph_clicked_to_play!==null?b("getOwnObjectValues")(a.post_video_retention_graph_clicked_to_play):null,viewingBehavior:a.post_video_retention_graph!==null?b("getOwnObjectValues")(a.post_video_retention_graph):null},videoLength:a.post_video_length}}function v(a){var c=a.post_video_avg_time_watched_by_ad_id,d=a.post_video_complete_views_paid_by_ad_id,e=a.post_video_complete_views_paid_by_ad_id_unique,f=a.post_video_views_paid_by_ad_id,h=a.post_video_views_paid_by_ad_id_unique,i=a.post_video_retention_graph_by_ad_id;a=c?Object.keys(c):[];var j={},k=1;a.forEach(function(a){var l=g._("Ad {placement number}",[g._param("placement number",k)]);k++;j[a]={averageTimeWatched:c[a],completedViews:{total:{organic:0,paid:d[a]},unique:{organic:0,paid:e[a]}},label:l,views:{total:{organic:0,paid:f[a]},unique:{organic:0,paid:h[a]}},viewingBehavior:b("getOwnObjectValues")(i[a])}});return j}function w(a,b){var c=b.post_interests_consumptions_by_type_unique||{},d=b.post_interests_action_by_type_unique||{},e=b.post_impressions_unique||0;b=b.post_interests_impressions_unique||{};d={like:d.like||{},comment:d.comment||{},share:d.share||{}};var f={};f.link=c["link clicks"]||{};a==="video"||a==="premiumVideo"?f.video_play=c["video play"]||{}:f.photo_view=c["photo view"]||{};f.other=c["other clicks"]||{};return{clicksByType:f,lcsByType:d,hintReach:b,postReach:e}}function x(a){return a.message||a.name||a.caption||a.description||a.story||a.picture}function y(a){return a.id}function z(a){return a.promotable_post_id}function A(a,c,d){__p&&__p();var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&e.push(f);if(!e.length){d([]);return}var g=1,h=null,i={};function j(){var e=[];for(var f in a)if(Object.prototype.hasOwnProperty.call(h,f)&&Object.prototype.hasOwnProperty.call(a,f)){var g=h[f];x(g)&&(g.insights=b("HubblePostUtils").parseInsights(g.type,a[f]),g.promoteStatus=i[f],e.push(g))}c(e);d(e)}b("HubbleContext").get("canSeePromoteButton")&&(g++,B(e.join(","),null,function(a){i=a.getPayload(),--g,g===0&&j()}));b("HubbleApiWrapper").getPostsByIDs({ids:e.join(",")},function(a){h={},a.posts.forEach(function(a){h[a.id]=a}),--g,g===0&&j()})}function B(a,c,d){a=new(b("AsyncRequest"))().setData({ids:a,promotable_ids:c}).setHandler(d).setMethod("GET").setReadOnly(!0).setURI("/ajax/pages/insights/promotion_status/");a.send()}function C(a,c,d){__p&&__p();var e=a.posts.filter(x);c(e);if(!e.length){d(e);return}a=e.map(y).join(",");var f=e.map(z).join(","),g=1;b("HubbleContext").get("canSeePromoteButton")&&(g++,B(a,f,function(a){var b=a.getPayload();e.forEach(function(a){a.promoteStatus=b[a.id]});--g?c(e):d(e)}));b("HubbleApiWrapper").getPostInsights({ids:a,metric:b("HubblePostUtils")._metrics},function(a){e.forEach(function(c){c.insights=b("HubblePostUtils").parseInsights(c.type,a[c.id])}),--g?c(e):d(e)})}function D(a,c,d){__p&&__p();var e=a.posts.filter(x);c(e);if(!e.length){d(e);return}a=e.map(y).join(",");b("HubbleApiWrapper").getPostInsights({ids:a,metric:b("HubblePostUtils")._metrics},function(a){e.forEach(function(c){c.insights=b("HubblePostUtils").parseInsights(c.type,a[c.id])}),d(e)})}function E(a,c,d){__p&&__p();var e=a.posts.filter(x);c(e);if(!e.length){d(e);return}a=e.map(y).join(",");b("HubbleApiWrapper").getPostInsights({ids:a,metric:k},function(a){e.forEach(function(b){b.insights=s(a[b.id])}),d(e)})}function F(a,c){__p&&__p();return function(d){__p&&__p();var e=d.data;e.forEach(function(a){a.insights=null,a.created_time=new Date(a.created_time).getTime()/1e3});a(e);if(e.length){d=e.map(y).join(",");b("HubbleApiWrapper").getPostInsights({ids:d,metric:b("HubblePostUtils")._metrics},function(a){e.forEach(function(c){c.insights=b("HubblePostUtils").parseInsights(c.type,a[c.id])}),c(e)})}}}function G(a,b,c){return function(d,e){var f=e?function(b,c){e(G(a,b,c))}:null;function g(a){b(a,f)}function h(a){c(a,f)}a(d,g,h)}}var H={validatePostInsightsMetric:function(a,b,c,d){var e={};e.insights=a;e.id=b;e.type=c;e.created_time=d},getActivePostsSortedByMetric:function(a,c,d,e,f,g){d.since<b("HubbleContext").get("earliestActivePostsData"),p&&p(),p=r(function(f,g){b("HubbleApiWrapper").getPageInsightsPerPost({active_post:1,limit:e,metric:["post_lcs_imps_clicks"],since:d.since,sort_dir:c,sort_metric:a,until:d.until},G(A,f,g))},f,g)},getPostsSortedByMetric:function(a,c,d,e,f,g){p&&p(),p=r(function(f,g){b("HubbleApiWrapper").getPageInsightsPerPost({metric:b("HubblePostUtils")._metrics.concat(a),limit:e,since:d.since,until:d.until,sort_metric:a,sort_dir:c},G(A,f,g))},f,g)},getPostsByDescendingDate:function(a,c,d,e,f,g,h,i){a=a?{since:a.since,until:a.until}:{};var j=babelHelpers["extends"]({},a,{fields:g,limit:c,type:f,recent_posts_only:i,post_filter_type:h});f===b("HubbleConstants").REQ_PREMIUM_VIDEO?(q&&q(),q=r(function(a,c){b("HubbleApiWrapper").getPosts(j,G(C,a,c))},d,e)):(p&&p(),p=r(function(a,c){b("HubbleApiWrapper").getPosts(j,G(C,a,c))},d,e))},getPostsByQuery:function(a,c,d,f){p&&p();var g=["id","picture","created_time","message","privacy","status_type","type","object_id"];p=r(function(d,f){b("promiseDone")(b("GraphAPI")(i,e.id).object("page",a).edge("posts").get({access_token:b("HubbleContext").get("pageAccessToken"),fields:g,q:c}),F(d,f))},d,f)},getVideosByViewCount:function(a,c,d,e,f){a=a?{since:a.since,until:a.until}:{};var g=babelHelpers["extends"]({},a,{limit:c,type:f});p&&p();p=r(function(a,c){b("HubbleApiWrapper").getPosts(g,G(E,a,c))},d,e)},getPostsMetrics:function(a,c,d,e){b("HubbleApiWrapper").getPosts({limit:c,since:a.since,until:a.until},function(a){D(a,d,e)})},getPostsMetricsByPostType:function(a,b,c){__p&&__p();var d={all:{},everyone:{paid:{},organic:{}},targeted:{paid:{},organic:{}}};function e(a){var b=a.privacy.value==="EVERYONE"||a.privacy.value==="";b=b?d.everyone:d.targeted;return a.insights.reachByType.paid?b.paid:b.organic}function f(a,b){var c=a[b.type];c||(a[b.type]=c={clicks:0,lcs:0,reach:0,count:0});c.clicks+=b.insights.clicks;c.lcs+=b.insights.lcs;c.reach+=b.insights.reach;c.count++}function g(a){b()}function i(a){a.forEach(function(a){f(e(a),a),f(d.all,a)}),c(d)}H.getPostsMetrics(a,h,g,i)},getPostMetricsByID:function(a,c,d,e){b("HubbleApiWrapper").getPostInsights({ids:a,metric:b("HubblePostUtils")._metrics},function(f){f={insights:b("HubblePostUtils").parseInsights(c,f[a])};d(f);e(f)})},getPostVideoMetricsByID:function(a,c){b("HubbleApiWrapper").getPostInsights({ids:a,metric:j},function(b){c({videoInsights:t(b[a])})})},getPostPremiumVideoMetricsByID:function(a,c){b("HubbleApiWrapper").getPostInsights({ids:a,metric:l},function(b){var d=t(b[a]);d.placements=v(b[a]);c({videoInsights:d})})},getPostVideoMetricsWithAutoplay:function(a,c){b("HubbleApiWrapper").getPostInsights({ids:a,metric:m},function(b){c({videoInsights:u(b[a])})})},getPostHintsMetrics:function(a,c,d){b("HubbleApiWrapper").getVersionedPostInsights({ids:c,metric:n,version:"v2.4"},function(b){d({hintsInsights:w(a,b[c])})})},getLiveAudioMetrics:function(a,c,d){b("HubbleApiWrapper").getVersionedPostInsights({ids:c,metric:o,version:"v2.8"},function(a){d({liveAudioInsights:a[c]})})}};e.exports=H}),null);
__d("PIReachGtEngmtSanityCheck",["PISanityCheckConfig","SanityCheck","SanityCheckNames"],(function(a,b,c,d,e,f){e.exports=new(b("SanityCheck"))(function(a,c,d){return d>b("PISanityCheckConfig").postCreatedTimeMaxValueInSeconds?!0:a>=c},b("SanityCheckNames").PI_REACH_GT_ENGMT)}),null);
__d("HubbleSanityChecks",["PIReachGtEngmtSanityCheck","SanityCheckAdapter"],(function(a,b,c,d,e,f){a={checkReachGtEngmt:function(a){return b("SanityCheckAdapter").check(b("PIReachGtEngmtSanityCheck"),[a.insights.reach,a.insights.engagedUsers,a.created_time],{postClicks:a.insights.clicks,postCreationTime:a.created_time,postEngagedUsers:a.insights.engagedUsers,postID:a.id,postLCS:a.insights.lcs,postPaidReach:a.insights.reachByType.paid,postReach:a.insights.reach,postType:a.type})}};e.exports=a}),null);
__d("PageInsightsPostDataType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO:"audio",LINK:"link",NOTE:"note",OFFER:"offer",PHOTO:"photo",QUESTION:"question",SHARED_VIDEO:"sharedVideo",STATUS:"status",VIDEO:"video",CAROUSEL:"carousel"})}),null);
__d("HubblePostDetailsDrillDown",["cx","fbt","CommerceProductTaggingInsightsGK","HubbleContext","HubbleLogger","HubblePostView.react","HubblePrimaryMetric.react","HubbleSecondaryMetric.react","HubbleSecondaryMetricGroup.react","HubbleTimeZoneDisclaimer.react","HubbleUtils","Image.react","InsightsInfoTip.react","LeftRight.react","PageInsightsAnnouncementCard.react","PageInsightsMonitoringEventTypeModule","PageInsightsMonitoringTypedLogger","PageInsightsPostDataType","React","UFIReactionIconImpl.react","UFIReactionTypes","XUIGrayText.react","getOwnObjectValues","sumOfArray"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={total:h._("Likes"),onPost:h._("On Post"),onShares:h._("On Shares")},j={total:h._("Comments"),onPost:h._("On Post"),onShares:h._("On Shares")},k={total:h._("Shares"),onPost:h._("On Post"),onShares:h._("On Shares")},l={hide_clicks:h._("Hide Post"),hide_all_clicks:h._("Hide All Posts")},m={report_spam_clicks:h._("Report as Spam"),unlike_page_clicks:h._("Unlike Page")},n=null,o={other:h._("Clicks not on the content of the post such as page title clicks, or clicks to \"see more\""),reactions:h._("This includes all reactions, comments and shares on the original post and any shared instances. Interactions that have been changed or deleted are counted toward the total. For example, changing a reaction from love to like counts as two interactions."),video_play:h._("The number of times your video started playing, after a person clicked to play it")},p=h._("3-Second Video Views");function q(a,c,d){var e=Object.keys(c).map(function(e){var f=null;if(Object.prototype.hasOwnProperty.call(a,e)){Object.prototype.hasOwnProperty.call(o,e)?f=b("React").createElement(b("InsightsInfoTip.react"),{tip:o[e]},c[e]):e==="link"&&b("HubbleContext").get("canSeeLinkClickAnnoucement")?f=b("React").createElement(b("PageInsightsAnnouncementCard.react"),{pageID:b("HubbleContext").getPageID()},c[e]):f=c[e];return b("React").createElement(b("HubbleSecondaryMetric.react"),{decoration:b("HubbleSecondaryMetric.react").DECORATION.ruled,label:f,number:a[e],key:e,tooltip:d&&Object.prototype.hasOwnProperty.call(d,e)?d[e]:void 0})}}).filter(function(a){return a!=null});return b("React").createElement(b("HubbleSecondaryMetricGroup.react"),{className:"_3uhz"},e)}function r(a){var c=[];for(var d=0;d<a.length;d++){var e=a[d];c.push(b("React").createElement("div",{key:d.toString(),className:"_5fbu _55vy"},b("React").createElement(b("Image.react"),{src:e.imageUrl,height:36,width:36}),b("React").createElement(b("HubbleSecondaryMetric.react"),{label:e.name,number:e.clickCount,isProductMetric:!0})))}return b("React").createElement(b("HubbleSecondaryMetricGroup.react"),{className:"_3uhz"},c)}function s(a,c){var d=Object.keys(c).map(function(d){if(Object.prototype.hasOwnProperty.call(a,d))return b("React").createElement(b("HubbleSecondaryMetric.react"),{layout:b("HubbleSecondaryMetric.react").LAYOUT.flat,label:c[d],number:a[d],key:d})});return b("React").createElement(b("HubbleSecondaryMetricGroup.react"),null,d)}function t(a,c,d,e){var f=b("UFIReactionTypes").ordering.map(function(f){if(a[f]||c[f]){var g=c[f]||0,h=Math.max(a[f]||0,g);return e?b("React").createElement("div",{className:"_55k0",key:"reactionPanel-"+f},b("React").createElement(b("HubblePrimaryMetric.react"),{label:u(f).total,number:h})):q({total:h,onPost:g,onShares:h-g},u(f),d)}});return f}function u(a){return{total:b("React").createElement("div",null,b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_59ar",reaction:parseInt(a+"",10)}),b("UFIReactionTypes").reactions[a].display_name),onPost:h._("On Post"),onShares:h._("On Shares")}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getClickLabels=function(){n||(n={photo_view:h._("Photo Views"),video_play:h._("Clicks to Play"),link:h._("Link Clicks"),other:h._("Other Clicks")});return n},d.hasValidReactionsData=function(){var a=d.props.metrics,c=a.reactionsOnPost,e=a.reactionsTotal;return!c||!e?!1:Object.keys(e).some(function(a){return a!=b("UFIReactionTypes").LIKE&&(e[a]||c[a])})},d.$1=function(){return!!(d.props.metrics.lcsFromPage&&d.props.metrics.lcsTotal)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){new(b("PageInsightsMonitoringTypedLogger"))().setEvent(b("PageInsightsMonitoringEventTypeModule").VISIT_POST_DETAILS_DRILL_DOWN_PANEL).setPostID(this.props.postID.split("_")[1]).setPageID(b("HubbleUtils").getPageID(this.props.postID)).log(),b("HubbleLogger").logAction("show_post_drilldown")};d.isShare=function(){return this.props.postType===b("PageInsightsPostDataType").SHARED_VIDEO};d.getReactionsLabel=function(){return this.isShare()?h._("Reactions and Comments"):h._("Reactions, Comments & Shares")};d.getLikesLabel=function(){return this.isShare()?h._("Likes and Comments"):h._("Likes, Comments & Shares")};d.getTimeDisclaimer=function(){var a=this.props.hasPaidDistribution?b("React").createElement(b("HubbleTimeZoneDisclaimer.react"),{className:"_50f8",size:"small"}):b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},h._("Reported stats may be delayed from what appears on posts"));return b("React").createElement("div",{className:"_610a",key:"timeDisclaimerPanel"},a)};d.renderRightCard=function(a,c,d){return b("React").createElement("div",null,a,c,d)};d.render=function(){__p&&__p();var a=null,c=null;if(this.$1()){var d=this.props.metrics.lcsTotal,e=this.props.metrics.lcsFromPage,f=this.props.metrics.lcsFromPage,g={like:d.like-e.like,comment:d.comment-e.comment,share:d.share-e.share};e=null;var n=this.props.postVideoViews?this.props.postVideoViews.value:this.props.metrics.videoViews;this.props.showVideoViews&&(e=b("React").createElement("div",{className:"_55k0",key:"panel2"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:p,number:n})));n=function(a){var b={};b.total=d[a];b.onPost=f[a];b.onShares=g[a];return b};var u=this.hasValidReactionsData(),v=u?b("React").createElement(b("InsightsInfoTip.react"),{tip:o.reactions},this.getReactionsLabel()):b("React").createElement(b("InsightsInfoTip.react"),{tip:o.reactions},this.getLikesLabel());if(this.props.metrics.audioListenCount!=null){var w=h._("Listens"),x=h._("Minutes Listened"),y=h._("LIVE AUDIO"),z=h._("POST");c=b("React").createElement("div",null,b("React").createElement("div",{className:"_55k1 _3htf"},y),b("React").createElement("div",{className:"_55k0",key:"panelA"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:w,number:this.props.metrics.audioListenCount})),b("React").createElement("div",{className:"_55k0",key:"panelB"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:x,number:this.props.metrics.audioListenTime})),b("React").createElement("div",{className:"_55k1 _3htf"},z))}y=function(a,c,d){return this.isShare()?b("React").createElement("div",{className:"_55k0"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:c.total,number:a.total})):q(a,c,d)}.bind(this);a=[b("React").createElement("div",{className:"_55k0",key:"panel1"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:h._("People Reached"),number:this.props.metrics.reach})),e,b("React").createElement("div",{className:"_55k0",key:"panel3"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:v,number:b("sumOfArray")(b("getOwnObjectValues")(d))}))];if(!this.isShare())a.push(b("React").createElement("div",{className:"_3uh-",key:"panel4"},u?t(this.props.metrics.reactionsTotal,this.props.metrics.reactionsOnPost,this.props.reactionsTooltips,!1):y(n("like"),i),y(n("comment"),j),y(n("share"),k)));else{w=[];if(u){x=t(this.props.metrics.reactionsTotal,this.props.metrics.reactionsOnPost,this.props.reactionsTooltips,!0);w=(z=w).concat.apply(z,x)}else w.push(y(n("like"),i));w.push(y(n("comment"),j));a=(e=a).concat.apply(e,w)}this.props.metrics.clicks&&a.push(b("React").createElement("div",{className:"_55k0",key:"panel5"},b("React").createElement(b("HubblePrimaryMetric.react"),{className:"mbm",label:h._("Post Clicks"),number:b("sumOfArray")(b("getOwnObjectValues")(this.props.metrics.clicks))}),q(this.props.metrics.clicks,this.getClickLabels())));if(b("CommerceProductTaggingInsightsGK").can_see_pt_metrics&&this.props.metrics.productClicks&&this.props.metrics.productClicks.length!==0){v=this.props.metrics.productClicks;u=v.reduce(function(a,b){return a+b.clickCount},0);z=h._("Product Clicks");x=r(v.slice(0,3));y=null;v.length>3&&(y=r(v.slice(3,6)));a.push(b("React").createElement("div",{className:"_3gic",key:"panel6"},b("React").createElement(b("HubblePrimaryMetric.react"),{label:z,number:u}),x,y))}this.props.metrics.negative&&a.push(b("React").createElement("div",{className:"_55k0",key:"panel7"},b("React").createElement("div",{className:"_55k1"},h._("Negative Feedback")),s(this.props.metrics.negative,l),s(this.props.metrics.negative,m)));a.push(this.getTimeDisclaimer())}n=c||a?b("React").createElement("div",{className:"_4u2l"},h._("Performance for Your Post")):null;e=b("HubbleUtils").getPageID(this.props.postID);return b("React").createElement("div",{className:"_55ii"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_55ij"},b("React").createElement(b("HubblePostView.react"),{feedLocation:this.props.feedLocation,identifier:this.props.identifier,pageID:e,useNewVideoMetrics:this.props.useNewVideoMetrics})),b("React").createElement("div",{className:(this.props.className,"HubblePostDrillDown/rightCard")},this.renderRightCard(n,c,a))))};return c}(b("React").Component);a.defaultProps={showVideoViews:!1};e.exports=a}),null);
__d("XPageInsightsReactionsMetricsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/insights/reactions/metrics/",{end_time:{type:"Int"},page_id:{type:"Int"},post_id:{type:"String"},start_time:{type:"Int"}})}),null);
__d("HubblePostDrillDownDataLayerMixin",["Arbiter","AsyncRequest","CommerceProductTaggingInsightsGK","HubbleLogger","HubblePostsDataLayer","HubbleSanityChecks","HubbleUtils","LiveAudioInsightsConfig","VideoAssetContext","XPageInsightsReactionsMetricsController","XVideoAssetInsightsDataController"],(function(a,b,c,d,e,f){__p&&__p();var g=3e3;a={_subscription:null,_pollTimeout:null,_request:null,__initialPostDetailsState:{clicks:null,impressionByType:null,lcsFromPage:null,lcsTotal:null,negative:null,reach:null,reactionsOnPost:null,reactionsTotal:null,productClicks:null},UNSAFE_componentWillMount:function(){__p&&__p();this._subscription=b("Arbiter").subscribe("hubble/lcsFromServer",this.handleNewFeedbackFromServer);var a=b("XPageInsightsReactionsMetricsController").getURIBuilder().setString("post_id",this.props.postID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.handleReactionsMetrics).send();b("CommerceProductTaggingInsightsGK").can_see_pt_metrics&&this.handleProductClickMetrics();this.props.useNewVideoMetrics&&this.fetchInsightsDataForStreamingVideo();b("HubblePostsDataLayer").getPostMetricsByID(this.props.postID,this.props.postType,this.handleNewInsights,this.handleNewInsights);a=b("LiveAudioInsightsConfig").facecast_audio_show_v1_metrics;var c=b("LiveAudioInsightsConfig").config.post_audio_listen_count.start_date;c=new Date(c).getTime()/1e3;a&&c<=this.props.postCreatedTime&&this.props.postType==="audio"&&b("HubblePostsDataLayer").getLiveAudioMetrics(this.props.postType,this.props.postID,this.handleLiveAudioInsights)},componentWillUnmount:function(){this._unsubscribe(),clearTimeout(this._pollTimeout),this._request&&this._request.abort()},fetchInsightsDataForStreamingVideo:function(){var a=b("HubbleUtils").getVideoID(this.props.postID);a=b("XVideoAssetInsightsDataController").getURIBuilder().setFBID("page_id",this.props.videoPostInsightsLoggerData.pageID).setInt("video_asset_id",a).setEnum("source",this.props.videoPostInsightsLoggerData.source).setEnum("context",b("VideoAssetContext").VIDEO_POST).getURI();this._request=new(b("AsyncRequest"))().setURI(a).setHandler(this.handleInsightsOfVideoInPost);this._request.send()},handleNewFeedbackFromServer:function(a,b){if(b.identifier!==this.props.postIdentifier)return;this._unsubscribe();a={comment:b.commentCount,like:b.likeCount,share:b.shareCount};b={lcsFromPage:a,reactionsOnPost:b.reactionsCountMap};this.state.lcsTotal&&(b.lcsTotal=this.correctLcsTotal(this.state.lcsTotal,a));this.setState(b)},handleNewInsights:function(a){if(!a.insights)return;var c=a.insights.lcsByType;this.state.lcsFromPage&&(c=this.correctLcsTotal(c,this.state.lcsFromPage));this.setState({clicks:a.insights.clicksByType,impressionByType:a.insights.impressionByType,lcsTotal:c,negative:a.insights.negativeFeedbackByType,reach:a.insights.reach,videoViews:a.insights.videoViews});b("HubbleSanityChecks").checkReachGtEngmt(Object.assign({created_time:this.props.postCreatedTime,id:this.props.postID,type:this.props.postType},a));b("HubblePostsDataLayer").validatePostInsightsMetric(a.insights,this.props.postID,this.props.postType,this.props.postCreatedTime)},handleLiveAudioInsights:function(a){if(!a.liveAudioInsights)return;var b=a.liveAudioInsights.post_audio_listen_time/6e4;this.setState({audioListenCount:a.liveAudioInsights.post_audio_listen_count,audioListenTime:b})},handleReactionsMetrics:function(a){if(a.error||!a.payload)return;this.setState({reactionsTotal:a.payload})},handleProductClickMetrics:function(){this.setState({productClicks:[]})},handleInsightsOfVideoInPost:function(a){if(a.error||!a.payload||!a.payload.videoPostInsights||!a.payload.videoProfileData)return;var b=a.payload.videoProfileData;b.isLiveStreaming&&this.props.shown&&(this._pollTimeout=setTimeout(this.fetchInsightsDataForStreamingVideo,g));this.setState({insightsOfVideoInPost:a.payload.videoPostInsights,showTopShares:a.payload.showTopShares,topSharesList:a.payload.topSharesList,showTopSharesNUX:a.payload.showTopSharesNUX,videoProfileData:b})},correctLcsTotal:function(a,c){var d={};for(var e in c)a[e]<c[e]?(d[e]=c[e],b("HubbleLogger").logWithData({metric_value:c[e]-a[e],action:"lcs_total_less_than_lcs_from_page"})):d[e]=a[e];return d},getDetailsMetrics:function(){return this.props.brandedContentPostInsights?{clicks:this.props.brandedContentPostInsights.clicksByType,lcsFromPage:this.state.lcsFromPage,lcsTotal:this.state.lcsTotal,negative:this.props.brandedContentPostInsights.negativeFeedbackByType,reach:this.props.brandedContentPostInsights.reach,reactionsOnPost:this.state.reactionsOnPost,reactionsTotal:this.state.reactionsTotal,videoViews:this.state.videoViews,audioListenTime:this.state.audioListenTime,audioListenCount:this.state.audioListenCount,productClicks:this.state.productClicks}:{clicks:this.state.clicks,impressionByType:this.state.impressionByType,lcsFromPage:this.state.lcsFromPage,lcsTotal:this.state.lcsTotal,negative:this.state.negative,reach:this.state.reach,reactionsOnPost:this.state.reactionsOnPost,reactionsTotal:this.state.reactionsTotal,videoViews:this.state.videoViews,audioListenTime:this.state.audioListenTime,audioListenCount:this.state.audioListenCount,productClicks:this.state.productClicks}},_unsubscribe:function(){this._subscription&&this._subscription.unsubscribe()}};e.exports=a}),null);
__d("HubblePostHintsConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({IMP:"imp",LIKE:"like",SHARE:"share",CLK:"clk"});e.exports=a}),null);
__d("HubblePostHintsEmptyDrillDown.react",["cx","fbt","ix","HubblePostHintsConstants","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getSubtext=function(){switch(d.props.type){case b("HubblePostHintsConstants").CLK:return h._("Check back again when this post has more clicks.");case b("HubblePostHintsConstants").LIKE:return h._("Check back again when this post has more likes.");case b("HubblePostHintsConstants").SHARE:return h._("Check back again when this post has more shares.");default:return h._("Check back again when this post has more views.")}},d.getText=function(){switch(d.props.type){case b("HubblePostHintsConstants").CLK:return d.getClickText();case b("HubblePostHintsConstants").LIKE:return h._("Sorry, data is not displayed until at least 100 people have liked the post");case b("HubblePostHintsConstants").SHARE:return h._("Sorry, data is not displayed until at least 100 people have shared the post");default:return h._("Sorry, data is not displayed until at least 100 people have viewed the post")}},d.getClickText=function(){switch(d.props.clkType){case"video":case"premiumVideo":return h._("Sorry, data is not displayed until at least 100 people have played the video on the post");case"photo":return h._("Sorry, data is not displayed until at least 100 people have clicked the photo on the post");default:return h._("Sorry, data is not displayed until at least 100 people have clicked the link on the post")}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.getSubtext(),c=this.getText();return b("React").createElement("div",{className:"_4y9"},b("React").createElement(b("Image.react"),{className:"_4ya",src:i("82502")}),b("React").createElement("div",{className:"_4yf"},c),b("React").createElement("div",{className:"_4yi"},a))};return c}(b("React").Component);c.propTypes={type:a.string,clkType:a.string};e.exports=c}),null);
__d("HubblePostHintsImpsDrillDown",["cx","fbt","React","HubbleHintsMetrics.react","HubblePostUtils"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("HubblePostUtils").formatPostHintsImpRatioMetrics(this.props.impHintMetrics,this.props.impAllMetrics);a=b("HubblePostUtils").formatPostHintsInsights(a,this.props.showRawMetrics);var c=null;if(this.props.showRawMetrics){var d=b("HubblePostUtils").formatPostHintsInsights(this.props.impHintMetrics,this.props.showRawMetrics);c=b("React").createElement(b("HubbleHintsMetrics.react"),{header:h._("Total Hint Reach"),metrics:d,metricsType:"count"})}return b("React").createElement("div",{className:"_vki"},b("React").createElement(b("HubbleHintsMetrics.react"),{header:h._("Percentage of Total Reach"),metrics:a,metricsType:"rate"}),c)};return c}(b("React").Component);c.propTypes={impHintMetrics:a.object.isRequired,impAllMetrics:a.number.isRequired,showRawMetrics:a.bool};e.exports=c}),null);
__d("HubblePostHintsLCSDrillDown.react",["cx","fbt","HubbleHintsMetrics.react","HubblePostHintsEmptyDrillDown.react","HubblePostUtils","React","XUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();if(this.props.countAllMetrics===0)return b("React").createElement(b("HubblePostHintsEmptyDrillDown.react"),{key:"PostHintsDrillDownViews",postID:this.props.postID,type:this.props.type,clkType:this.props.clkType});var a=b("HubblePostUtils").formatPostHintsRateMetrics(this.props.countMetrics,this.props.impMetrics),c=b("HubblePostUtils").sortPostHintsMetrics(a);a=b("HubblePostUtils").formatPostHintsInsights(a,this.props.showRawMetrics,c);var d=null;if(this.props.showRawMetrics){var e=b("HubblePostUtils").formatPostHintsInsights(this.props.countMetrics,this.props.showRawMetrics);d=b("React").createElement(b("HubbleHintsMetrics.react"),{header:h._("Total Numbers"),metrics:e,metricsType:"count"})}else{e=b("HubblePostUtils").formatPostHintsImpRatioMetrics(this.props.countMetrics,this.props.countAllMetrics);e=b("HubblePostUtils").formatPostHintsInsights(e,this.props.showRawMetrics,c);d=b("React").createElement(b("HubbleHintsMetrics.react"),{header:this.props.countHeader,metrics:e,metricsType:"rate"})}c=null;this.props.noticeInfo&&(c=b("React").createElement("div",{className:"_44sh"},b("React").createElement(b("XUINotice.react"),null,this.props.noticeInfo)));return b("React").createElement("div",{className:"_vki"},c,b("React").createElement(b("HubbleHintsMetrics.react"),{header:this.props.rateHeader,subtitle:this.props.rateSubtitle,metrics:a,metricsType:"rate"}),d)};return c}(b("React").Component);c.propTypes={countMetrics:a.object.isRequired,countAllMetrics:a.number.isRequired,impMetrics:a.object.isRequired,noticeInfo:a.node,rateHeader:a.node.isRequired,rateSubtitle:a.node,countHeader:a.node.isRequired,showRawMetrics:a.bool,type:a.string,clkType:a.string};e.exports=c}),null);
__d("HubblePostHintsTabbedSection.react",["React"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getTabHref=function(a){return a.tabHref};c.getKey=function(a){return a.sectionKey};c.getTitle=function(a){return a.title};c.getSubtitle=function(a){return a.subtitle};c.getComplexTitle=function(a){return a.complexTitle};var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.children)};return c}(b("React").Component);c.propTypes={className:a.string,tabHref:a.string,sectionKey:a.string.isRequired,title:a.string,subtitle:a.string,complexTitle:a.object.isRequired};e.exports=c}),null);
__d("HubblePostHintsTabbedSections.react",["cx","InsightsTabbedSectionsMixin","React"],(function(a,b,c,d,e,f,g){b("InsightsTabbedSectionsMixin").getTabContent;a=babelHelpers.objectWithoutPropertiesLoose(b("InsightsTabbedSectionsMixin"),["getTabContent"]);c=b("React").createClass({displayName:"HubblePostHintsTabbedSections",mixins:[a],theme:{activeNavLinkClass:"_2w8o",activeSelector:"_3f_d",navClass:"_2w8p",longNavClass:"_3bxh",navLinkClass:"_2w8q",smallNavLinkClass:"_4d7-",subtitledBlockClass:"_1fkz",subtitleClass:"_1fk-"},getTabContent:function(a){a=a.props.complexTitle;a=b("React").createElement("div",{className:"_5u73"},b("React").createElement("div",{className:"_5u74"},a.title,a.tooltip),b("React").createElement("div",{className:"_5u75"},a.number));return a}});e.exports=c}),null);
__d("HubblePostHintsTabbedDrillDown",["HubblePostHintsTabbedSection.react","HubblePostHintsTabbedSections.react","InsightsDateRange.react","React"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activeKey:null},c.showSection=function(a){c.setState({activeKey:a.type.getKey(a.props)})},b)||babelHelpers.assertThisInitialized(c)}c.getHeaderText=function(a){return b("React").createElement(b("InsightsDateRange.react"),{from:a.selection[0],to:a.selection[1],utc:!0})};var d=c.prototype;d.render=function(){var a=this,c=this.props.hintsdrilldowns.map(function(c,d){c=b("React").cloneElement(c,a.props);d=Array.isArray(a.props.nubSources)?a.props.nubSources[d]:a.props.nubSources;return b("React").createElement(b("HubblePostHintsTabbedSection.react"),{complexTitle:c.props.complexTitle,key:c.key,sectionKey:c.key,title:c.props.title,nubSource:d},c)},this);return b("React").createElement(b("HubblePostHintsTabbedSections.react"),{activeKey:this.state.activeKey,children:c,onTabClick:this.showSection})};return c}(b("React").Component);c.propTypes={postID:a.string,hintsdrilldowns:a.array.isRequired};e.exports=c}),null);
__d("HubblePostHintsViewsDrillDown",["fbt","AudienceTargetingFieldDisplayName","HubblePostDrillDownDataLayerMixin","HubblePostHintsConstants","HubblePostHintsEmptyDrillDown.react","HubblePostHintsImpsDrillDown","HubblePostHintsLCSDrillDown.react","HubblePostHintsTabbedDrillDown","HubblePostsDataLayer","InsightsLoadingIndicator.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").createClass({displayName:"HubblePostHintsViewsDrillDown",mixins:[b("HubblePostDrillDownDataLayerMixin")],UNSAFE_componentWillMount:function(){var a=b("HubblePostsDataLayer").getPostHintsMetrics;a(this.props.postType,this.props.postID,this._handlePostHintsInsights)},getInitialState:function(){return this.__initialPostDetailsState},getClickHintsMetrics:function(a){if(this.props.postType==="video"||this.props.postType==="premiumVideo")return a.video_play||{};else if(this.props.postType==="photo")return a.photo_view||{};return a.link||{}},getClickMetrics:function(a){if(this.props.postType==="video"||this.props.postType==="premiumVideo")return a.video_play||0;else if(this.props.postType==="photo")return a.photo_view||0;return a.link||0},getClickTitle:function(){switch(this.props.postType){case"video":case"premiumVideo":return g._("Video Play Rate");case"photo":return g._("Photo View Rate");default:return g._("Link Click Rate")}},getClickType:function(){switch(this.props.postType){case"video":case"premiumVideo":return g._("Video Plays");case"photo":return g._("Photo Views");default:return g._("Link Clicks")}},getClickRateTitle:function(){switch(this.props.postType){case"video":case"premiumVideo":return g._("Video Play-Through Rate");case"photo":return g._("Photo View Rate");default:return g._("Link Click Rate")}},getClickNoticeInfo:function(){switch(this.props.postType){case"video":case"premiumVideo":return g._("These charts show the video play rate for each tag you added and the percentage of total user-initiated video plays for each tag.");case"photo":return g._("These charts show the rate of photo views for each tag you added and the percentage of total photo views for each tag.");default:return g._("These charts show the click rate for each tag you added and the percentage of total clicks for each tag.")}},getClickToolTip:function(){switch(this.props.postType){case"video":case"premiumVideo":return g._("Video click-to-play rate for people who matched at least one of your tags.");case"photo":return g._("Rate of photo views for people who matched at least one of your tags.");default:return g._("Click rate for people who matched at least one of your tags.")}},getNumberFormat:function(a){if(a===void 0||a===null)return"\u2014%";a=(100*a).toFixed(1)+"%";return a},getTitleForType:function(a){switch(a){case b("HubblePostHintsConstants").IMP:return g._("Reach");case b("HubblePostHintsConstants").CLK:return this.getClickTitle();case b("HubblePostHintsConstants").LIKE:return g._("Like Rate");case b("HubblePostHintsConstants").SHARE:return g._("Share Rate");default:return null}},getTooltipContent:function(a,c){switch(a){case b("HubblePostHintsConstants").IMP:return g._("Of all the people who saw this post on News Feed, {percentage of tag matched reach} matched at least one of your tags.",[g._param("percentage of tag matched reach",c)]);case b("HubblePostHintsConstants").CLK:return this.getClickToolTip();case b("HubblePostHintsConstants").LIKE:return g._("Like rate for people who matched at least one of your tags");case b("HubblePostHintsConstants").SHARE:return g._("Share rate for people who matched at least one of your tags");default:return null}},getTooltip:function(a,c){a=this.getTooltipContent(a,c);return a?b("React").createElement(b("SUISimplePopover.react"),{content:a,contentWidthUseSparingly:268,position:"above",theme:b("SUIBusinessTheme")}):null},getComplexTitleForLCS:function(a,b,c){a=a["Some Hints Matched"];b=b["Some Hints Matched"];var d=null;a!==void 0&&b!==void 0&&b>0&&(d=a/b);a={};a.number=this.getNumberFormat(d);a.title=this.getTitleForType(c);a.tooltip=this.getTooltip(c,a.number);return a},getComplexTitleForReach:function(a){var c=this.getTotalHintsMetrics(a);a=a["Some Hints Matched"];var d=0;a!==void 0&&(d=a/c);a={};a.number=this.getNumberFormat(d);a.title=this.getTitleForType(b("HubblePostHintsConstants").IMP);a.tooltip=this.getTooltip(b("HubblePostHintsConstants").IMP,a.number);return a},getTotalHintsMetrics:function(a){var c=a[b("AudienceTargetingFieldDisplayName").NO_HINTS_MATCHED];a=a[b("AudienceTargetingFieldDisplayName").SOME_HINTS_MATCHED];return c+a>0?c+a:0},render:function(){__p&&__p();if(!this.state.isLoaded)return b("React").createElement(b("InsightsLoadingIndicator.react"),null);var a=this.props.hintsConfig,c=this.getTotalHintsMetrics(this.state.hintReachMetrics),d=this.getTotalHintsMetrics(this.state.likeMetrics),e=this.getTotalHintsMetrics(this.state.shareMetrics),f=this.getClickHintsMetrics(this.state.clkMetrics),h=this.getTotalHintsMetrics(f),i=a.insights_threshold;i=i!==void 0?i.min_show_time:300;var j=Math.floor(Date.now()/1e3);if(j-this.props.postCreatedTime<i||c===0)return b("React").createElement(b("HubblePostHintsEmptyDrillDown.react"),{key:"PostHintsDrillDownViews",postID:this.props.postID});j=a.show_raw_hints_insights;i=[b("React").createElement(b("HubblePostHintsImpsDrillDown"),{complexTitle:this.getComplexTitleForReach(this.state.hintReachMetrics),identifier:this.props.postIdentifier,impHintMetrics:this.state.hintReachMetrics,impAllMetrics:c,key:"PostHintsImpsDrillDown",showRawMetrics:j}),b("React").createElement(b("HubblePostHintsLCSDrillDown.react"),{countMetrics:f,countAllMetrics:h,countHeader:g._("Percentage of Total {click title}",[g._param("click title",this.getClickType())]),complexTitle:this.getComplexTitleForLCS(f,this.state.hintReachMetrics,b("HubblePostHintsConstants").CLK),clkMetrics:f,identifier:this.props.postIdentifier,impMetrics:this.state.hintReachMetrics,key:"PostHintsClkDrillDown",noticeInfo:this.getClickNoticeInfo(),rateHeader:this.getClickRateTitle(),rateSubtitle:g._("({click type} per view)",[g._param("click type",this.getClickType())]),showRawMetrics:j,type:b("HubblePostHintsConstants").CLK,clkType:this.props.postType}),b("React").createElement(b("HubblePostHintsLCSDrillDown.react"),{countMetrics:this.state.shareMetrics,countAllMetrics:e,countHeader:g._("Percentage of Total Shares"),complexTitle:this.getComplexTitleForLCS(this.state.shareMetrics,this.state.hintReachMetrics,b("HubblePostHintsConstants").SHARE),identifier:this.props.postIdentifier,impMetrics:this.state.hintReachMetrics,key:"PostHintsShareDrillDown",noticeInfo:g._("These charts show the share rate for each tag you added and the percentage of total shares for each tag"),rateHeader:g._("Share-Through Rate"),rateSubtitle:g._("(shares per view)"),showRawMetrics:j,type:b("HubblePostHintsConstants").SHARE}),b("React").createElement(b("HubblePostHintsLCSDrillDown.react"),{countMetrics:this.state.likeMetrics,countAllMetrics:d,countHeader:g._("Percentage of Total Likes"),complexTitle:this.getComplexTitleForLCS(this.state.likeMetrics,this.state.hintReachMetrics,b("HubblePostHintsConstants").LIKE),identifier:this.props.postIdentifier,impMetrics:this.state.hintReachMetrics,key:"PostHintsLikeDrillDown",noticeInfo:g._("These charts show the rate at which each tag received likes and the percentage of total likes for each tag."),rateHeader:g._("Like Rate"),rateSubtitle:g._("(likes per view)"),showRawMetrics:j,type:b("HubblePostHintsConstants").LIKE})];return b("React").createElement(b("HubblePostHintsTabbedDrillDown"),{hintsdrilldowns:i,postID:this.props.postID})},_handlePostHintsInsights:function(a){this.setState({isLoaded:!0,hintReachMetrics:a.hintsInsights.hintReach,clkMetrics:a.hintsInsights.clicksByType,likeMetrics:a.hintsInsights.lcsByType.like,shareMetrics:a.hintsInsights.lcsByType.share})}});e.exports=a}),null);
__d("HubbleTabbedDrillDown",["cx","InsightsDateRange.react","InsightsTabbedSection.react","InsightsTabbedSections.react","PagesEventObserver","PagesEventType","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeKey:d.props.initialTab!=null?d.props.initialTab:null},d.showSection=function(a){d.setState({activeKey:a.type.getKey(a.props)});if(a.key==="PostHintsDrillDownViews"){var c=d.props.postID.split("_");c=c[0];b("PagesEventObserver").notify(b("PagesEventType").VIEW_AUDIENCE_TARGETING_INSIGHTS,c,{post_id:d.props.postID,post_type:d.props.postType,post_status_type:d.props.postStatusType,is_admin:!0,ref:d.props.ref})}d.props.onDrillDownClick&&d.props.onDrillDownClick(a.props.sectionKey)},c)||babelHelpers.assertThisInitialized(d)}c.getHeaderText=function(a){return b("React").createElement(b("InsightsDateRange.react"),{from:a.selection[0],to:a.selection[1],utc:!0})};var d=c.prototype;d.render=function(){var a=this.props.drilldowns.map(function(a,c){a=b("React").cloneElement(a,this.props);var d=this.props.flush?"_42s2":null;c=Array.isArray(this.props.nubSources)?this.props.nubSources[c]:this.props.nubSources;return b("React").createElement(b("InsightsTabbedSection.react"),{className:d,key:a.key,sectionKey:a.key,title:a.props.title,nubSource:c,showBetaLogo:a.props.showBetaLogo},a)},this);return b("React").createElement(b("InsightsTabbedSections.react"),{activeKey:this.state.activeKey,redirectURI:this.props.redirectURI,redirectText:this.props.redirectText,children:a,onTabClick:this.showSection,useCenteredTabsStyle:this.props.useCenteredTabsStyle,showTopSharesNUX:this.props.showTopSharesNUX})};return c}(b("React").Component);e.exports=a}),null);
__d("HubbleDefaultPostDrillDown",["fbt","ix","FBFeedLocations","HubblePostDetailsDrillDown","HubblePostDrillDownDataLayerMixin","HubblePostHintsViewsDrillDown","HubbleTabbedDrillDown","React","getOwnObjectValues"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"HubbleDefaultPostDrillDown",mixins:[b("HubblePostDrillDownDataLayerMixin")],propTypes:{feedLocation:a.oneOf(b("getOwnObjectValues")(b("FBFeedLocations")))},getInitialState:function(){return this.__initialPostDetailsState},render:function(){var a=[h("28640"),h("28639")],c=this.getDetailsMetrics(),d=!!(c.impressionByType&&c.impressionByType.paid);d=b("React").createElement(b("HubblePostDetailsDrillDown"),{actionContext:this.props.actionContext,eventID:this.props.eventID,feedLocation:this.props.feedLocation,hasPaidDistribution:d,identifier:this.props.postIdentifier,key:"PostDrillDownOverview",metrics:c,postID:this.props.postID,title:g._("Post")});c=this.props.hasHints;if(c){c=[d];c.push(b("React").createElement(b("HubblePostHintsViewsDrillDown"),{key:"PostHintsDrillDownViews",title:g._("Preferred Audience"),postID:this.props.postID}));return b("React").createElement(b("HubbleTabbedDrillDown"),babelHelpers["extends"]({drilldowns:c},this.props,{flush:!0,nubSources:a}))}return d}});e.exports=c}),null);
__d("PageContentTabVideosCopyrightReferenceLibraryActions",["fbt","Promise","DateConsts","GraphAPI","PageContentTabAccessToken","PageContentTabCommonConfig","PageContentTabConstants","PageContentTabDispatcher","PageContentTabLoadingDialog","PageContentTabLogger","PageContentTabLoggingEvents","React","VideoCopyrightAPI","VideoCopyrightUtils","VideosCopyrightRuleActions","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("PageContentTabConstants").ACTIONS,i=b("PageContentTabConstants").TABS,j={handleDelete:function(a,b,c){this.showDeleteConfirmation(b.length,function(){return j.deleteVideos(a.toString(),b)},c)},showDeleteConfirmation:function(a,c,d){d===void 0&&(d=null);var e=g._({"Reference File?":"Delete Reference File?","Reference Files?":"Delete Reference Files?"},[g._enum(a===1?"Reference File?":"Reference Files?",{"Reference File?":"Reference File?","Reference Files?":"Reference Files?"})]);a=a===1?g._("This reference file will be permanently deleted and any associated matches will be removed from your dashboard."):g._("{numPosts} reference files will be permanently deleted and any associated matches will be removed from your dashboard.",[g._param("numPosts",a)]);b("PageContentTabCommonConfig").showConfirmationDialog(e,a,g._("Delete"),function(){c(),d&&d()},null)},deleteVideos:function(a,c){var d=this;b("PageContentTabLoadingDialog").show();c=c.map(function(c){return d.deleteCopyright(a,c.reference_file.id,c.id,c.reference_file.content_type!=="video",c.reference_file.content_type==="fingerprint")["catch"](function(a){b("PageContentTabLogger").log(b("PageContentTabLoggingEvents").API_ERROR,i.ALL_REFERENCE_FILES,{error:JSON.stringify(a),action:h.DELETE,post_id:c.id})})});b("promiseDone")(b("Promise").all(c),function(){b("PageContentTabLoadingDialog").hide()})},removeAttributions:function(a,c,d,e){__p&&__p();b("PageContentTabLoadingDialog").show();var f=c.map(function(c){return b("VideoCopyrightAPI").updateAttribution(d,a,c.id,null,"copyrights_table")});b("promiseDone")(b("Promise").all(f),function(a){if((a=a)!=null?(a=a[0])!=null?a.error:a:a){b("PageContentTabLoadingDialog").hide();return}e&&e(c);b("PageContentTabLoadingDialog").hide()})},addLiteAttributions:function(a,c,d,e){__p&&__p();b("PageContentTabLoadingDialog").show();var f=c.map(function(c){return b("VideoCopyrightAPI").updateAttribution(d,a,c.id,a,"copyrights_table")});b("promiseDone")(b("Promise").all(f),function(a){if((a=a)!=null?(a=a[0])!=null?a.error:a:a){b("PageContentTabLoadingDialog").hide();return}e&&e(c);b("PageContentTabLoadingDialog").hide()})},deleteCopyright:function(a,c,d,f,g){g?g=b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION,e.id).object("video_fingerprint",c).remove({access_token:b("PageContentTabAccessToken").getAccessToken()}):f?g=b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION,e.id).object("video",c).remove({access_token:b("PageContentTabAccessToken").getAccessToken()}):g=b("VideoCopyrightAPI").uncopyrightVideo(b("PageContentTabAccessToken").getAccessToken(),a,c,d,{},"reference_edit_dialog");return g.then(function(){return b("PageContentTabDispatcher").handlePostRemoved(a,d,i.ALL_REFERENCE_FILES)})},assignAttribution:function(a,c,d){__p&&__p();b("PageContentTabLoadingDialog").show();var f=d.map(function(d){return b("VideoCopyrightAPI").updateAttribution(b("PageContentTabAccessToken").getAccessToken(),a,d.id,c,"copyrights_table")});b("promiseDone")(b("Promise").all(f),function(f){if((f=f)!=null?(f=f[0])!=null?f.error:f:f){b("PageContentTabLoadingDialog").hide();return}b("promiseDone")(b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION,e.id).object("media_copyright_attribution",c).get({fields:b("VideoCopyrightUtils").getCopyrightAttributionGraphAPIFields(),access_token:b("PageContentTabAccessToken").getAccessToken()}),function(c){d.map(function(a){return a.attribution={id:c.id,title:c.title}}),b("PageContentTabDispatcher").handlePostChanged(c,b("PageContentTabConstants").TABS.ATTRIBUTIONS,a),b("PageContentTabDispatcher").handlePostsChanged(d,b("PageContentTabConstants").TABS.REFERENCE_FILES,a),b("PageContentTabLoadingDialog").hideWithSuccessMessage(g._("Attribution has been assigned to selected reference files."),2*b("DateConsts").MS_PER_SEC)})})},reassignCopyrightsMatchRule:function(a,c,d){__p&&__p();b("PageContentTabLoadingDialog").show();var e=d.map(function(d){return b("VideoCopyrightAPI").reassignVideoCopyrightMatchRule(b("PageContentTabAccessToken").getAccessToken(),a,d.id,c,"reassign_match_rule_dialog")["catch"](function(a){b("PageContentTabLogger").log(b("PageContentTabLoggingEvents").API_ERROR,i.ALL_REFERENCE_FILES,{error:JSON.stringify(a),action:"reassign_match_rule",post_id:d.id})})});b("promiseDone")(b("Promise").all(e),function(e){__p&&__p();if((e=e)!=null?(e=e[0])!=null?e.error:e:e){b("PageContentTabLoadingDialog").hide();return}b("promiseDone")(b("VideosCopyrightRuleActions").getMatchRule(c,b("PageContentTabAccessToken").getAccessToken()),function(c){var e={id:c.id,name:c.name,condition_groups:c.condition_groups};d.map(function(a){return a.rule_ids=[e]});b("PageContentTabDispatcher").handlePostChanged(c,b("PageContentTabConstants").TABS.MATCH_RULES,a);b("PageContentTabLoadingDialog").hideWithSuccessMessage(g._("New match rule has been assigned to selected reference files."),2*b("DateConsts").MS_PER_SEC)})})}};e.exports=j}),null);
__d("LiveVideoAdBreakCountdown.react",["cx","fbt","AdBreakFailureReason","DateConsts","LiveVideoAdBreakActions","LiveVideoAdBreakConstants","React","setInterval"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoAdBreakConstants").STATES;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={countdown:c.props.adPodDurationInMS?c.props.adPodDurationInMS/b("DateConsts").MS_PER_SEC:c.props.liveVideoAdBreakUIConfig.adBreakDurationMS/b("DateConsts").MS_PER_SEC};return c}var d=c.prototype;d.$2=function(){this.setState({countdown:this.state.countdown-1}),this.state.countdown<=0&&(clearInterval(this.$1),b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_DEACTIVATED,b("AdBreakFailureReason").NOT_ENOUGH_TIME_BETWEEN_LAST_AD_BREAK,this.props.broadcastID))};d.componentWillUnmount=function(){this.$1&&clearInterval(this.$1)};d.$3=function(){switch(this.props.adBreakState){case i.AD_BREAK_STARTED:return h._("Ad Break");case i.AD_BREAK_READY:return h._("Ready for Ad Break");default:return null}};d.$4=function(){return b("React").createElement("div",{className:"_4c1h"},b("React").createElement("div",{className:"_4c1i"},this.$3()),b("React").createElement("div",{className:"_4c1j"},h._("Live Video will start again in")),b("React").createElement("div",{className:"_4c1l"},this.state.countdown),b("React").createElement("div",{className:"_4c1m"},h._("There is a delay in this countdown. Use your video software's timeline to make sure you start your broadcast on time.")))};d.componentDidUpdate=function(){this.props.adBreakState===i.AD_BREAK_STARTED&&!this.$1&&(this.setState({countdown:this.props.adPodDurationInMS?this.props.adPodDurationInMS/b("DateConsts").MS_PER_SEC:this.props.liveVideoAdBreakUIConfig.adBreakDurationMS/b("DateConsts").MS_PER_SEC}),this.$1=b("setInterval")(this.$2.bind(this),b("DateConsts").MS_PER_SEC))};d.render=function(){switch(this.props.adBreakState){case i.AD_BREAK_READY:case i.AD_BREAK_STARTED:return this.$4();default:return null}};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoTakeAdBreakCard.react",["cx","fbt","AdBreakFailureReason","BUIProgressBar.react","DateConsts","Link.react","LiveVideoAdBreakActions","LiveVideoAdBreakConstants","React","Tooltip","XUIButton.react","XUISingleSelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoAdBreakConstants").STATES,j=b("XUISingleSelector.react").Option;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={countdown:c.props.adPodDurationInMS?c.props.adPodDurationInMS/b("DateConsts").MS_PER_SEC:c.props.liveVideoAdBreakUIConfig.adBreakDurationMS/b("DateConsts").MS_PER_SEC,adPodUIEnabled:c.props.liveVideoAdBreakUIConfig.adPodUIEnabled,adPodUIOptionsInMS:c.props.liveVideoAdBreakUIConfig.adPodDurationOptionsInMS?c.props.liveVideoAdBreakUIConfig.adPodDurationOptionsInMS:[]};return c}var d=c.prototype;d.$1=function(){return h._("Take Ad Break")};d.$2=function(a){switch(a){case b("AdBreakFailureReason").HAS_NOT_REACHED_MIN_VIEWERS_FOR_AD_BREAK:return h._("More viewers needed. You need at least {number of concurrent viewers} people watching at the same time.",[h._param("number of concurrent viewers",this.props.liveVideoAdBreakUIConfig.viewerCountThreshold)]);case b("AdBreakFailureReason").NOT_ENOUGH_TIME_PAST_SINCE_BROADCAST_START:return h._("Too early for ad breaks. You need to be live for at least {required broadcast length in mins} minutes.",[h._param("required broadcast length in mins",this.props.liveVideoAdBreakUIConfig.firstAdBreakEligibleSecs/b("DateConsts").SEC_PER_MIN)]);case b("AdBreakFailureReason").NOT_ENOUGH_TIME_BETWEEN_LAST_AD_BREAK:return h._("Not enough time passed since last ad break. You need to wait at least {required time in minutes between ad breaks} minutes before starting the next ad break.",[h._param("required time in minutes between ad breaks",this.props.liveVideoAdBreakUIConfig.timeBetweenAdBreaksSecs/b("DateConsts").SEC_PER_MIN)]);default:return this.props.adBreakFailureReason}};d.$3=function(a){var c=this.$1();a=this.$2(a);return b("React").createElement("div",{className:"_3fw7"},b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({label:c,disabled:!0},b("Tooltip").propsFor(a))))};d.$4=function(){var a=this.$1();return b("React").createElement("div",null,b("React").createElement("div",{className:"_3fw7"},b("React").createElement(b("XUIButton.react"),{label:a,disabled:!0})),b("React").createElement("div",{className:"_62af"},h._("Ad breaks have been disabled. This video contains content that does not meet Facebook's monetization eligibility standards.")))};d.$5=function(){var a=this,c=this.$1();if(this.state.adPodUIEnabled&&this.state.adPodUIOptionsInMS)return b("React").createElement("div",{className:"_3fw8"},b("React").createElement("div",{className:"_3fw9"},b("React").createElement(b("XUIButton.react"),{label:c,use:"confirm",onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_PREPARING,b("AdBreakFailureReason").NONE,a.props.broadcastID,a.state.countdown*b("DateConsts").MS_PER_SEC)}}),b("React").createElement(b("XUISingleSelector.react"),{className:"_2amo",onChange:function(c){a.setState({countdown:c.value/b("DateConsts").MS_PER_SEC})},defaultValue:this.state.countdown*b("DateConsts").MS_PER_SEC},this.state.adPodUIOptionsInMS.map(function(a){return b("React").createElement(j,{key:a,value:a},h._("{Number of seconds}s",[h._param("Number of seconds",a/b("DateConsts").MS_PER_SEC)]))}))),this.$6());else return b("React").createElement("div",{className:"_3fw8"},b("React").createElement("div",{className:"_3fw9"},b("React").createElement(b("XUIButton.react"),{label:c,use:"confirm",onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_PREPARING,b("AdBreakFailureReason").NONE,a.props.broadcastID)}})),this.$6())};d.$6=function(){return b("React").createElement("div",{className:"_3fwa"},h._("By taking ad breaks, you agree that your video does not contain material that belongs to someone else."))};d.$7=function(a){var c=this;return b("React").createElement("div",{className:"_3fwb"},b("React").createElement("div",{className:"_3fwc"},h._("Preparing ad break")),b("React").createElement("div",{className:"_3fwf"},a?b("React").createElement(b("BUIProgressBar.react"),{width:500,padding:!1,percentage:100,isComplete:!0}):b("React").createElement(b("BUIProgressBar.react"),{width:500,padding:!1,isBuffering:!0})),b("React").createElement("div",{className:"_3fwg"},h._("This preview shows what your viewers are seeing.")),b("React").createElement("div",{className:"_45sx"},b("React").createElement(b("Link.react"),{className:"_45sy",onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_DEACTIVATED,b("AdBreakFailureReason").NONE,c.props.broadcastID)}},h._("Cancel"))))};d.$8=function(){var a=this;return b("React").createElement("div",{className:"_3fwb"},b("React").createElement("div",{className:"_3fwc"},h._("Failed to load ad break")),b("React").createElement("div",{className:"_3fwf"},b("React").createElement(b("BUIProgressBar.react"),{width:500,padding:!1,percentage:100,isError:!0})),b("React").createElement("div",{className:"_45sx"},b("React").createElement(b("Link.react"),{className:"_45sy",onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_DEACTIVATED,b("AdBreakFailureReason").NONE,a.props.broadcastID)}},h._("Cancel"))))};d.$9=function(){var a=this;return b("React").createElement("div",{className:"_3fwh"},b("React").createElement("div",{className:"_3fwi"},h._("Your camera will turn off and viewers will see an ad as soon as you start. Let them know you'll be back in {number of seconds} seconds.",[h._param("number of seconds",this.state.countdown)])),b("React").createElement("div",{className:"_3fwl"},b("React").createElement(b("XUIButton.react"),{className:"_3fwm",label:h._("Cancel"),onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_DEACTIVATED,b("AdBreakFailureReason").NONE,a.props.broadcastID)}}),b("React").createElement(b("XUIButton.react"),{className:"_3fwn",label:h._("Start Ad Break"),use:"special",onClick:function(){b("LiveVideoAdBreakActions").setAdBreakState(i.AD_BREAK_STARTED,b("AdBreakFailureReason").NOT_ENOUGH_TIME_BETWEEN_LAST_AD_BREAK,a.props.broadcastID,a.state.countdown*b("DateConsts").MS_PER_SEC)}})))};d.render=function(){__p&&__p();switch(this.props.adBreakState){case i.AD_BREAK_DEACTIVATED:return this.$3(this.props.adBreakFailureReason);case i.AD_BREAK_ACTIVATED:return this.$5();case i.AD_BREAK_PREPARING:return this.$7(!1);case i.AD_BREAK_PREPARING_SUCCESS:return this.$7(!0);case i.AD_BREAK_READY:return this.$9();case i.AD_BREAK_STARTED:return this.$3(this.props.adBreakFailureReason);case i.AD_BREAK_ERROR:return this.$8();case i.DEMONETIZED:return this.$4();default:return null}};return c}(b("React").Component);e.exports=a}),null);
__d("XVideoAssetPlayerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/x/video_assets/video_player/",{video_asset_id:{type:"Int",required:!0},video_container_id:{type:"String",required:!0},show_controls:{type:"Bool",defaultValue:!1},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("VideoAssetPlayer.react",["ActorURI","AdsVideoPlayer.react","AsyncRequest","React","XVideoAssetPlayerController"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c){a=b("XVideoAssetPlayerController").getURIBuilder().setInt("video_asset_id",this.props.videoAssetID).setString("video_container_id",a).setBool("show_controls",this.props.showControls).setInt("width",this.props.playerWidth).setInt("height",this.props.playerHeight);a=b("ActorURI").create(a.getURI(),this.props.pageID);new(b("AsyncRequest"))().setMethod("POST").setRelativeTo(c).setURI(a).setReadOnly(!0).send()};d.seek=function(a){this.refs.videoPlayer.seek(a)};d.closePlayer=function(){this.refs.videoPlayer.closePlayer()};d.playVideo=function(){this.refs.videoPlayer.playVideo()};d.pause=function(){this.refs.videoPlayer.pause()};d.mute=function(){this.refs.videoPlayer.mute()};d.render=function(){return b("React").createElement(b("AdsVideoPlayer.react"),{ref:"videoPlayer",className:this.props.className,videoID:this.props.videoAssetID,playerWidth:this.props.playerWidth,playerHeight:this.props.playerHeight,rotation:this.props.rotation,autoPlay:this.props.autoplay,showControls:this.props.showControls,hideCloseButton:this.props.hideCloseButton,onVideoLoaded:this.props.onVideoLoaded,onBeginPlayback:this.props.onBeginPlayback,loadVideoPlayer:this.$1.bind(this)},this.props.children)};return c}(b("React").Component);a.defaultProps={showControls:!0,hideCloseButton:!1};e.exports=a}),null);
__d("VideoAssetLiveStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCHEDULED:"scheduled",LIVE:"live",VOD:"vod"})}),null);
__d("VideoAssetPreviewProfile.react",["ix","cx","fbt","FBClipboardLink.react","Image.react","ImageBlock.react","LineClamp.react","Link.react","LiveVideoAdBreakConstants","LiveVideoTakeAdBreakCard.react","React","VideoAssetContext","VideoAssetLiveStatus","VideoUtils","XUIText.react","asset","fbglyph","formatDate"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=1e3,k=130,l=b("LiveVideoAdBreakConstants").STATES;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.pageName;this.props.title&&(a=this.props.pageName+": "+this.props.title);a.length&&(a=a.substr(0,k)+"...");return b("React").createElement(b("XUIText.react"),{display:"block",className:"_4g88"},a)};d.$2=function(){return b("formatDate")(new Date(this.props.uploadedTime*j),"m/d/Y")};d.$3=function(){return this.props.adBreakState===l.AD_BREAK_DEACTIVATED||this.props.adBreakState===l.AD_BREAK_ACTIVATED||this.props.adBreakState===l.AD_BREAK_PREPARING||this.props.adBreakState===l.AD_BREAK_PREPARING_SUCCESS||this.props.adBreakState===l.AD_BREAK_ERROR||this.props.adBreakState===l.AD_BREAK_READY||this.props.adBreakState===l.AD_BREAK_STARTED||this.props.adBreakState===l.DEMONETIZED};d.$4=function(){return this.props.adBreakState===l.AD_BREAK_PREPARING||this.props.adBreakState===l.AD_BREAK_PREPARING_SUCCESS||this.props.adBreakState===l.AD_BREAK_ERROR||this.props.adBreakState===l.AD_BREAK_READY};d.$5=function(){__p&&__p();if(this.$3())return null;var a;if(this.props.contextType===b("VideoAssetContext").VIDEO_ASSET){var c,d;this.props.isCrosspostedVideo?c=i._("Shared by {owner}",[i._param("owner",this.props.ownerName)]):(c=i._("Owned"),this.props.reusedPostsCount===1?d=i._("Appears Once"):d=i._("Appears in {count} posts",[i._param("count",this.props.reusedPostsCount)]));a=b("React").createElement("span",null," ","\xa0\xb7\xa0 ",c,d?b("React").createElement("span",null," \xa0\xb7\xa0 ",d):null)}c=i._("Uploaded on {upload time}",[i._param("upload time",this.$2())]);if(this.props.isShare)c=i._("Shared on {share time}",[i._param("share time",this.$2())]);else if(this.props.isBroadcast)switch(this.props.liveStatus){case b("VideoAssetLiveStatus").SCHEDULED:c=i._("Scheduled");break;case b("VideoAssetLiveStatus").LIVE:c=i._("Is Live");break;case b("VideoAssetLiveStatus").VOD:c=i._("Was Live: {live time}",[i._param("live time",this.$2())]);break}var e=this.props.permalinkURL?b("React").createElement("span",null,"\xa0\xb7\xa0",b("React").createElement(b("Link.react"),{href:this.props.permalinkURL,target:"_blank"},i._("View Permalink"),"\xa0",b("React").createElement(b("Image.react"),{src:g("124776")}))):null,f=this.props.videoID;f=f!=null?b("React").createElement("span",null,"\xa0\xb7\xa0",b("React").createElement(b("FBClipboardLink.react"),{className:"_6-y9",label:i._("Copy Video ID"),tooltip:i._("Copy"),tooltipSuccess:i._("Copied"),value:f}),b("React").createElement(b("Image.react"),{src:g("638382")})):null;return b("React").createElement("div",{className:"_4g89"},b("React").createElement(b("XUIText.react"),{size:"header4",display:"inline",className:"_4g8a"},this.props.liveStatus===b("VideoAssetLiveStatus").SCHEDULED?null:b("React").createElement("span",null,b("VideoUtils").formatTime(this.props.duration)," \xa0\xb7\xa0"," "),c,a,e,f))};d.$6=function(){return!!this.props.broadcastID&&!!this.props.liveVideoAdBreakUIConfig&&this.props.liveVideoAdBreakUIConfig.adBreakUIEnabled?b("React").createElement(b("LiveVideoTakeAdBreakCard.react"),{adBreakState:this.props.adBreakState,adBreakFailureReason:this.props.adBreakFailureReason,adPodDurationInMS:this.props.adPodDurationInMS,liveVideoAdBreakUIConfig:this.props.liveVideoAdBreakUIConfig,broadcastID:this.props.broadcastID}):null};d.$7=function(){return this.$4()?null:b("React").createElement("div",{className:"_4g8b"},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{className:"_4g8c",src:this.props.thumbnailSrc}),b("React").createElement("div",null,this.$1(),b("React").createElement(b("XUIText.react"),{className:"_4g8d",display:"block"},b("React").createElement(b("LineClamp.react"),{lines:3,lineHeight:17},this.props.description)),b("React").createElement(b("XUIText.react"),{className:"_41hi"},this.props.description))))};d.render=function(){return b("React").createElement("div",null,this.$7(),this.$5(),this.$6())};return c}(b("React").Component);e.exports=a}),null);
__d("ReferenceFingerprintPreviewSection.react",["cx","fbt","CenteredContainer.react","Image.react","React","XUIGrayText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;var i=160,j=160,k="/images/video_copyright/fingerprint-160x160.png";c=b("React").createClass({displayName:"ReferenceFingerprintPreviewSection",propTypes:{className:a.string},render:function(){return b("React").createElement(b("CenteredContainer.react"),{className:b("joinClasses")(this.props.className,"_1t9p"),vertical:!0},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_1ao1",src:k,height:j,width:i}),b("React").createElement(b("XUIGrayText.react"),{className:"_1ao2",size:"header3",display:"block"},h._("Fingerprinted File"))))}});e.exports=c}),null);
__d("VideoAssetPreviewVideo.react",["cx","BackgroundImage.react","LiveVideoAdBreakConstants","LiveVideoAdBreakCountdown.react","React","ReferenceFingerprintPreviewSection.react","ScheduledLiveStoryPreview.react","ScheduledLiveStoryVideoPreview.react","VideoAssetLiveStatus","VideoAssetPlayer.react","VideoAssetPreviewProfile.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=552,i=311,j=1e3,k=b("LiveVideoAdBreakConstants").STATES;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={playerShown:!1};return b}var d=c.prototype;d.$1=function(){var a=this.props.videoProfileData;return b("React").createElement(b("VideoAssetPreviewProfile.react"),{thumbnailSrc:a.thumbnailSrc,pageName:a.pageName,postType:a.postType,title:a.title,description:a.description,uploadedTime:a.uploadedTime,duration:a.duration,reusedPostsCount:this.props.reusedPostsCount,contextType:this.props.contextType,isCrosspostedVideo:!!this.props.pageID&&this.props.pageID!==a.ownerID,ownerName:a.assetOwnerName,isBroadcast:a.isBroadcast,isLiveStreaming:a.isLiveStreaming,liveStatus:a.liveStatus,isShare:a.isShare,permalinkURL:a.permalinkURL,broadcastID:this.props.broadcastID,adBreakState:this.props.adBreakState,adBreakFailureReason:this.props.adBreakFailureReason,adPodDurationInMS:this.props.adPodDurationInMS,liveVideoAdBreakUIConfig:this.props.liveVideoAdBreakUIConfig,videoID:this.props.videoID})};d.showPlayer=function(){this.state.playerShown||(this.setState({playerShown:!0}),this.refs.videoPlayer.playVideo(),this.refs.videoPlayer.pause())};d.seek=function(a){this.refs.videoPlayer.seek(a*j)};d.$2=function(){return this.props.adBreakState===k.AD_BREAK_READY||this.props.adBreakState===k.AD_BREAK_STARTED};d.$3=function(){if(this.$2())return null;if(this.props.videoProfileData.isReference&&this.props.videoProfileData.referenceType==="fingerprint")return b("React").createElement(b("ReferenceFingerprintPreviewSection.react"),{className:"_j5p"});else if(this.props.videoProfileData.liveStatus===b("VideoAssetLiveStatus").SCHEDULED){var a=this.props.videoProfileData.scheduledLivePreviewPayload;return a.useComposerV2?b("React").createElement("div",{className:"_6llg"},b("React").createElement(b("ScheduledLiveStoryPreview.react"),{description:"",backgroundImage:a.backgroundImage,broadcastID:String(a.broadcastID),plannedStartTime:a.plannedStartTime,previousCustomImage:a.previousCustomImage,profileImageURL:a.profileImageURL,profileName:a.profileName,targetID:this.props.pageID,useComposerV2:a.useComposerV2})):b("React").createElement(b("ScheduledLiveStoryVideoPreview.react"),{backgroundImage:a.backgroundImage,customProfileImage:null,customProfileImagePosition:null,plannedStartTime:a.plannedStartTime,previousCustomImage:a.previousCustomImage,profileImageURL:a.profileImageURL,profileName:a.profileName})}else return b("React").createElement(b("VideoAssetPlayer.react"),{ref:"videoPlayer",pageID:this.props.pageID,videoAssetID:this.props.videoID,playerWidth:h,playerHeight:i,autoplay:this.props.videoProfileData.isLiveStreaming,onVideoLoaded:this.props.onVideoLoaded,hideCloseButton:!0,className:"_42bg"},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",width:h,height:i,src:this.props.videoProfileData.thumbnailSrc}))};d.$4=function(){return!!this.props.broadcastID&&!!this.props.liveVideoAdBreakUIConfig&&this.props.liveVideoAdBreakUIConfig.adBreakUIEnabled&&this.$2()?b("React").createElement(b("LiveVideoAdBreakCountdown.react"),{width:h,height:i,adBreakState:this.props.adBreakState,adBreakFailureReason:this.props.adBreakFailureReason,liveVideoAdBreakUIConfig:this.props.liveVideoAdBreakUIConfig,broadcastID:this.props.broadcastID,adPodDurationInMS:this.props.adPodDurationInMS}):null};d.render=function(){var a;a=(a=this.props.videoProfileData)!=null?(a=a.scheduledLivePreviewPayload)!=null?a.useComposerV2:a:a;a===null&&(a=!1);return b("React").createElement("div",{className:"_4wl7"+(a?" _6llh":"")},this.$3(),this.$4(),this.$1())};return c}(b("React").Component);e.exports=a}),null);
__d("BVIMetric",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL_PAGES:"ALL_PAGES",MINUTES_VIEWED:"MINUTES_VIEWED",VIDEO_VIEWS:"VIDEO_VIEWS",ENGAGEMENT:"ENGAGEMENT",NEW_FOLLOWERS:"NEW_FOLLOWERS",VIDEO_POSTS:"VIDEO_POSTS",REVENUE:"REVENUE",AD_IMPRESSIONS:"AD_IMPRESSIONS",AD_CPM:"AD_CPM",SHARES:"SHARES",RPM:"RPM",VIEWS_60S:"VIEWS_60S",EARNING_WITH_SUBSIDY:"EARNING_WITH_SUBSIDY"})}),null);
__d("VideoAssetMonetizationStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MONETIZED:"monetized",LIMITED:"limited",DEMONETIZED:"demonetized",NOT_MONETIZED:"not_monetized",NOT_IN_PROGRAM:"not_in_program",AD_BREAKS_PREREVIEW:"ad_breaks_prereview",UNDER_REVIEW:"under_review",NOT_PRIORITIZED:"not_prioritized",NOT_ENQUEUED_BUT_CLOSE_TO_UPPER_BOUND:"not_enqueued_but_close_to_upper_bound",LANGUAGE_NOT_SUPPORTED:"language_not_support",ACTIVE_INTERRUPTIVE_AD_BREAKS:"active_interruptive_ad_breaks",FORMAT_ABUSIVE:"format_abusive",UNKNOWN:"unknown",INELIGIBLE_DEPRECATED:"ineligible_deprecated"})}),null);