if (self.CavalryLogger) { CavalryLogger.start_js(["N+a5+"]); }

__d("shouldShowUXExcellenceFix",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(){return!b("gkx")("829380")}e.exports=a}),null);
__d("XEventsUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/updatesettings/",{attributes:{type:"StringToStringMap",defaultValue:{}},id:{type:"Int"}})}),null);
__d("EventPromoteActions.react",["ix","cx","fbt","AsyncRequest","BoostedComponentConstants","BoostedComponentProduct","BoostedComponentRef","BoostedPostDialogButtonWrapper.react","ContextualLayerUpdateOnScroll","EventEmitter","EventPromoteActionsGatingData","EventsActionsLogger","Image.react","PopoverMenu.react","React","ReactLayeredComponentMixin_DEPRECATED","ReactXUIMenu","XBoostedComponentFetchButtonDataController","XEventsPromoteURIDataController","XEventsUserSettingsUpdateController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").Item;c=b("React").PropTypes;function a(){return{_emitter:null,UNSAFE_componentWillMount:function(){this._emitter=new(b("EventEmitter"))()},emit:function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];this._emitter&&(b=this._emitter).emit.apply(b,[a].concat(d))},addListener:function(a,b){this._emitter&&this._emitter.addListener(a,b)},removeAllListeners:function(a){this._emitter&&this._emitter.removeAllListeners(a)}}}d=b("React").createClass({displayName:"EventPromoteActions",mixins:[b("ReactLayeredComponentMixin_DEPRECATED"),a()],propTypes:{actionHistory:c.string.isRequired,boostedButtonData:c.object,boostedButtonPlacement:c.string,eventID:c.string.isRequired,hasNux:c.bool,nuxSeenCount:c.number,pageID:c.string.isRequired,size:c.oneOf(["small","medium","large","xlarge","xxlarge"])},getInitialState:function(){var a=this.props.hasNux&&b("EventPromoteActionsGatingData").showPromoteLinkNux,c=null;this.props.boostedButtonData!==void 0&&(c=babelHelpers["extends"]({},this.props.boostedButtonData,{placement:this.props.boostedButtonPlacement||b("BoostedComponentRef").EVENT_UPSELL,boostedButtonType:b("BoostedComponentConstants").BOOSTED_BUTTON_TYPE.VIEW}));return{boostButtonData:c,promoteButtonData:null,showNux:a}},componentDidMount:function(){var a=this;this.addListener("data:boost",function(b){return a.setState({boostButtonData:b})});this.addListener("data:promote",function(b){return a.setState({promoteButtonData:b})});this.loadButtonData()},componentWillUnmount:function(){this.removeAllListeners()},loadButtonData:function(){var a;this._loadBoostButtonData();a=(a=this)!=null?(a=a.state)!=null?(a=a.boostButtonData)!=null?a.placement:a:a:a;if(this.state.boostButtonData&&a===b("BoostedComponentRef").WWW_EVENT_COMPOSER)return;this._loadPromoteButtonData()},_loadPromoteButtonData:function(){var a=this;if(this.state.promoteButtonData&&this.state.promoteButtonData.canViewerPromote)return;var c=b("XEventsPromoteURIDataController").getURIBuilder().setString("event_id",this.props.eventID).setString("action_history",this.props.actionHistory).getURI();new(b("AsyncRequest"))(c).setHandler(function(b){b={canViewerPromote:b.payload.canViewerPromote,canViewerPromoteTicket:b.payload.canViewerPromoteTicket,canViewerPromoteOnFBTicket:b.payload.canViewerPromoteOnFBTicket,promoteEventURI:b.payload.promoteEventURI,promoteTicketURI:b.payload.promoteTicketURI};a.emit("data:promote",b)}).send()},_loadBoostButtonData:function(){var a=this;if(this.state.boostButtonData&&this.state.boostButtonData.data.configData.context_store_data.is_eligible)return;var c=b("XBoostedComponentFetchButtonDataController").getURIBuilder().setEnum("product",b("BoostedComponentProduct").BOOSTED_EVENT).setInt("page_id",this.props.pageID).setInt("post_id",this.props.eventID).setString("ref",this.props.boostedButtonPlacement||b("BoostedComponentRef").EVENT_UPSELL).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){var d=c.payload;d={data:{buttonID:d.buttonID,configData:d.configData,displaySection:d.displaySection,instanceData:d.instanceData,instanceID:d.instanceID},placement:c.payload.placement,boostedButtonType:b("BoostedComponentConstants").BOOSTED_BUTTON_TYPE.VIEW};a.emit("data:boost",d)}).send()},_onNuxCloseButtonClick:function(){this.setState({showNux:!1})},_getContextRef:function(){return this.refs.eventPromoteAction},renderLayers:function(){if(!this.state.showNux||!this.refs.eventPromoteAction)return{};var a=this.props.nuxSeenCount?this.props.nuxSeenCount+1:1;a=b("XEventsUserSettingsUpdateController").getURIBuilder().setStringToStringMap("attributes",{insights_promote_link_nux_cnt:String(a)}).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send();return{nux:b("React").createElement(b("XUIAmbientNUX.react"),{behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:this._getContextRef,onCloseButtonClick:this._onNuxCloseButtonClick,shown:!0,alignment:"right",autofocus:!1,position:"below",width:"normal"},i._("New: Promote your event to more of the people you care about."))}},_renderMenuItemLabel:function(a,c,d){var e=null,f=null;switch(a){case"tickets":e=g("144488");f=g("141284");break;case"events":default:e=g("143342");f=g("140138");break}return b("React").createElement("div",null,b("React").createElement("div",{className:"_531w"},b("React").createElement(b("Image.react"),{src:e,className:"_t6l"}),b("React").createElement(b("Image.react"),{src:f,className:"_t6m"})),b("React").createElement("div",null,b("React").createElement("div",{className:"_531x"},c),b("React").createElement("div",{className:"_531y"},d)))},_renderBoostButton:function(){var a=this.state.boostButtonData;if(a===null)return b("React").createElement(b("XUISpinner.react"),{background:"light",size:"small"});return!a.data.configData.context_store_data.is_eligible?null:b("React").createElement("div",{className:this.props.className,ref:"eventPromoteAction"},b("React").createElement(b("BoostedPostDialogButtonWrapper.react"),babelHelpers["extends"]({onUpsellButtonClick:this._onPromoteButtonClick},a,{size:this.props.size||"medium"})))},_renderPromoteButton:function(){__p&&__p();var a=this.state.promoteButtonData;if(a===null)return b("React").createElement(b("XUISpinner.react"),{background:"light",size:"small"});if(!a.canViewerPromote)return b("React").createElement("div",null);var c=null;if(a.canViewerPromoteTicket||a.canViewerPromoteOnFBTicket){var d=i._("Reach More People"),e=i._("Tell people about your event");d=b("React").createElement(j,{value:b("EventsActionsLogger").Target.PROMOTE_EVENT_ITEM,href:a.promoteEventURI,className:"_531k"},this._renderMenuItemLabel("events",d,e));e=null;var f=null;a.canViewerPromoteOnFBTicket?(e=i._("Sell More Tickets on Facebook"),f=i._("Promote tickets on this event")):(e=i._("Increase Ticket Sales"),f=i._("Send people to your ticket website"));d=b("React").createElement(b("ReactXUIMenu"),{onItemClick:this._onPromoteItemClick},d,b("React").createElement(j,{value:b("EventsActionsLogger").Target.PROMOTE_TICKET_ITEM,href:a.promoteTicketURI,className:"_531k"},this._renderMenuItemLabel("tickets",e,f)));e=i._("Promote");c=b("React").createElement(b("PopoverMenu.react"),{onClick:this._onPromoteMenuClick,menu:d,alignh:"right"},b("React").createElement(b("XUIPopoverButton.react"),{haschevron:!0,use:"confirm",label:e}))}else c=b("React").createElement(b("XUIButton.react"),{use:"confirm",href:a.promoteEventURI,onClick:this._onPromoteButtonClick,size:this.props.size,label:i._("Promote Event")});return b("React").createElement("div",{className:this.props.className,ref:"eventPromoteAction"},c)},render:function(){var a=this._renderBoostButton();return a?a:this._renderPromoteButton()},_onPromoteButtonClick:function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.PROMOTE_EVENT_BUTTON,acontext:{action_history:this.props.actionHistory},extraData:{}})},_onPromoteMenuClick:function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.PROMOTE_EVENT_MENU,acontext:{action_history:this.props.actionHistory},extraData:{}})},_onPromoteItemClick:function(a,c){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:c.item.getValue(),acontext:{action_history:this.props.actionHistory},extraData:{}})}});e.exports=d}),null);
__d("BoostedPostFamilyDialogButtonWrapper.react",["BoostedComponentAppID","BoostedComponentErrorBoundaryContainer.react","BoostedPostDialogButtonWrapper.react","EventPromoteActions.react","React","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedPostDialogButtonWrapper"},b("React").createElement(b("BoostedPostDialogButtonWrapper.react"),{data:a.data,stopPropagation:a.stopPropagation}))}g.defaultProps={stopPropagation:!1};function a(a){__p&&__p();var c=a.data;if(!c||c.boostedComponentAppID==null)return b("React").createElement(g,{data:null,stopPropagation:!1});var d=c.boostedComponentAppID,e=babelHelpers.objectWithoutPropertiesLoose(c,["boostedComponentAppID"]);e=babelHelpers["extends"]({appID:d},e);switch(d){case b("BoostedComponentAppID").BOOSTED_EVENT:d=c.configData;c=b("getByPath")(d,["context_store_data","page_id"]);d=b("getByPath")(d,["context_store_data","target_id"]);return b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"EventPromoteActions"},b("React").createElement(b("EventPromoteActions.react"),{actionHistory:"{'surface':'page_insight'}",boostedButtonData:a,boostedButtonPlacement:a.placement,eventID:d,pageID:c}));case b("BoostedComponentAppID").BOOSTED_GROUP:case b("BoostedComponentAppID").BOOSTED_POST:default:return b("React").createElement(g,{data:e,stopPropagation:a.stopPropagation})}}e.exports=a}),null);
__d("XUIPageSideNavigation.react",["cx","React","XUIPageSideNavigationItem.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=b("React").Children.map(this.props.children,function(c,d){__p&&__p();if(!c)return null;if(c.type!==b("XUIPageSideNavigationItem.react"))throw new Error("Children must be of type XUIPageSideNavigationItem");if(!c.key)throw new Error("Children must have keys defined");d=a.props.selectedItemKey===c.key||a.props.selectedItemKey===c.props.itemKey;var e=babelHelpers["extends"]({},c.props,{className:"_37_q"+(d?" _37_r":"")});d&&(e["aria-current"]="page");return b("React").cloneElement(c,e)});return b("React").createElement("div",this.props,c)};return c}(b("React").Component);a.Item=b("XUIPageSideNavigationItem.react");e.exports=a}),null);
__d("EventDescription.react",["cx","fbt","BoostedComponentErrorBoundaryContainer.react","BoostedComponentRef","BoostedPostFamilyDialogButtonWrapper.react","DateBlock.react","Event","EventActionContextHelper","EventsActionsLogger","EventWatchStatus","ExpandableText.react","FBJSON","ImageBlock.react","Keys","Link.react","LogicalGridCell.react","LogicalGridCellFocusStrategy","Middot.react","PublicEventWatchStatusSelector_DO_NOT_USE.react","React","XEventsPermalinkController","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Event").getKeyCode,j=225;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){d=a.call(this,c,d)||this;d.state={viewerWatchStatus:c.eventInfo.viewer_watch_status?c.eventInfo.viewer_watch_status:b("EventWatchStatus").UNWATCHED};return d}var d=c.prototype;d.render=function(){var a={id:this.props.eventInfo.id,viewer_watch_status:this.state.viewerWatchStatus},c=b("EventActionContextHelper").getActionHistoryJSON(this.props.actionContext),d=null;this.props.eventInfo.isEligibleForBoost&&this.props.eventInfo.buttonData?d=this.$2():d=b("React").createElement(b("PublicEventWatchStatusSelector_DO_NOT_USE.react"),{className:"_3j4t",event:a,actionHistory:c,actionCallback:this.$3.bind(this),pageID:this.props.pageID,canViewerJoin:this.props.eventInfo.canViewerJoin});a=this.props.tourFormat?this.props.eventInfo.location:this.props.eventInfo.title;c=this.props.eventInfo.location===""?b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime):b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime,b("React").createElement(b("Middot.react"),null),this.props.eventInfo.location);this.props.tourFormat&&(c=b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime));return b("React").createElement("div",null,b("React").createElement(b("ImageBlock.react"),{className:"_3j4o"},b("React").createElement("div",{className:"_3j4p"},b("React").createElement(b("DateBlock.react"),{day:this.props.eventInfo.day,month:this.props.eventInfo.month})),b("React").createElement("div",{className:"_3j4q"},b("React").createElement(b("LogicalGridCell.react"),{columnIndex:0,component:b("React").createElement("div",null)},b("React").createElement(b("Link.react"),{className:"_7ty",href:this.$4()},a)),b("React").createElement(b("LogicalGridCell.react"),{columnIndex:1,component:b("React").createElement("div",null),focusStrategy:b("LogicalGridCellFocusStrategy")},c,b("React").createElement(b("XUIText.react"),{className:"_7u2",display:"block"},this.props.eventInfo.socialContext))),b("React").createElement(b("LogicalGridCell.react"),{className:"_3j4s",columnIndex:2,component:b("React").createElement("div",null)},d)),this.$5())};d.$2=function(){var a=this.props.eventInfo.buttonData;return b("React").createElement(b("LogicalGridCell.react"),{columnIndex:2,component:b("React").createElement("div",null)},b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedPostFamilyDialogButtonWrapper"},b("React").createElement(b("BoostedPostFamilyDialogButtonWrapper.react"),{data:a,placement:b("BoostedComponentRef").WWW_PAGES_TIMELINE_UPCOMING_EVENTS_SECTION})))};d.$4=function(){return b("XEventsPermalinkController").getURIBuilder().setInt("event_id",this.props.eventInfo.id).setString("acontext",this.props.actionContext).getURI()};d.$3=function(a,c){if(a||!c)return;a=c.event_update_extended_viewer_watch_status;if(!a||!a.event||!a.event.viewer_watch_status)return;b("EventsActionsLogger").log(""+this.props.eventInfo.id,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.INTERESTED_EVENT_BUTTON,acontext:b("FBJSON").parse(this.props.actionContext)},{suggestion_tracking_info:this.props.trackingData});this.setState({viewerWatchStatus:a.event.viewer_watch_status})};d.$6=function(a){a=i(a);a===b("Keys").RETURN&&this.$1&&this.$1.toggleMore()};d.$5=function(){var a=this,c=this.props.eventInfo.description;if(!c)return null;var d=b("React").createElement("div",{className:"_7tw",onKeyDown:this.$6.bind(this),role:"button"});return b("React").createElement(b("LogicalGridCell.react"),{columnIndex:3,component:d,focusStrategy:b("LogicalGridCellFocusStrategy")},b("React").createElement(b("ExpandableText.react"),{cutoff:j,text:c,grow:1e3,penalizeNewLine:!0,ref:function(b){return a.$1=b},seeMoreText:h._("See More"),seeLessText:h._("See Less")}))};return c}(b("React").Component);e.exports=a}),null);
__d("UpcomingEventsCard.react",["cx","fbt","BackgroundImage.react","EventDescription.react","EventsActionsLogger","EventsCalendarIcon","FBJSON","Link.react","LogicalGridRow.react","React","XEventCreateDialogController","XEventsPermalinkController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=500,j=i/1.9,k=100;a=b("React").PropTypes;c=b("React").createClass({displayName:"UpcomingEventsCard",propTypes:{eventList:a.arrayOf(a.object),actionContext:a.string.isRequired,pageID:a.string.isRequired,tourID:a.string},componentDidMount:function(){b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.LOAD,target:b("EventsActionsLogger").Target.PAGE_UPCOMING_EVENTS_CARD,acontext:b("FBJSON").parse(this.props.actionContext)},{tour_id:this.props.tourID})},getInitialState:function(){var a={};for(var b=0,c=this.props.eventList.length;b<c;b++)a[this.props.eventList[b].id]=this.props.eventList[b].viewer_watch_status;a.selectEvent=0;return a},render:function(){var a=this;if(this.props.eventList.length===0)return this._getNullStateCard();var c=this.props.eventList.map(function(c,d){return b("React").createElement(b("LogicalGridRow.react"),{component:b("React").createElement("div",{onMouseOver:a._getChangeCoverPhoto.bind(a,d),className:"_4r_1"}),key:c.id,rowIndex:d},b("React").createElement(b("EventDescription.react"),{actionContext:a.props.actionContext,eventInfo:c,pageID:a.props.pageID,tourFormat:a.props.tourID!==void 0}))}),d=this.props.eventList[this.state.selectEvent].coverPhoto,e=null;!this.props.tourID&&d.uri&&(e=b("React").createElement(b("Link.react"),{href:this._getEventPermalinkURI()},b("React").createElement("div",null,b("React").createElement(b("BackgroundImage.react"),{height:j,src:d.uri,width:i,backgroundSize:"cover"}))));return b("React").createElement("div",null,e,c)},_getChangeCoverPhoto:function(a){!this.props.tourID&&this.state.selectEvent!==a&&this.setState({selectEvent:a})},_getEventPermalinkURI:function(){return b("XEventsPermalinkController").getURIBuilder().setInt("event_id",this.props.eventList[this.state.selectEvent].id).setString("acontext",this.props.actionContext).getURI()},_getNullStateCard:function(){var a=b("XEventCreateDialogController").getURIBuilder().setInt("page_id",this.props.pageID).setString("acontext",this.props.actionContext).getURI();return b("React").createElement("div",{className:"_4r_2"},b("React").createElement("div",{className:"_4r_3"},b("React").createElement(b("BackgroundImage.react"),{height:k,src:b("EventsCalendarIcon").url,width:k,backgroundSize:"contain"})),b("React").createElement("div",{className:"_4r_4"},h._("No upcoming events")),b("React").createElement("div",{className:"_4r_5"},h._("Make it easy for people to find your next event. Create it on Facebook."),b("React").createElement(b("Link.react"),{className:"_4wcp",href:a,rel:"dialog-post",target:"_blank"},h._("Create Event"))))}});e.exports=c}),null);