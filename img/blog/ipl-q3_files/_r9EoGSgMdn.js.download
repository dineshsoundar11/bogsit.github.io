if (self.CavalryLogger) { CavalryLogger.start_js(["yNfWI"]); }

__d("AnalyticsErrorCodes",[],(function(a,b,c,d,e,f){e.exports={ANALYTICS_PUSH_CERT_EXPIRED:28e3,ANALYTICS_PUSH_CERT_BAD_FORMAT:28001,ANALYTICS_PUSH_CERT_INVALID:28002,NOT_ENOUGH_USERS:3006}}),null);
__d("AnalyticsGraphAPIConfig",[],(function(a,b,c,d,e,f){e.exports={GRAPH_API_VERSION:"3.1",MARKETING_GRAPH_API_VERSION:"3.1"}}),null);
__d("AnalyticsQueryAggregationMethod",[],(function(a,b,c,d,e,f){e.exports={COUNT:"COUNT",COUNT_IDENTIFIED_USERS:"COUNT_IDENTIFIED_USERS",USERS:"USERS",SUM:"SUM",SUM_PER_EVENT:"SUM_PER_EVENT",SUM_IDENTIFIED_USERS:"SUM_IDENTIFIED_USERS",USD_SUM:"USD_SUM",USD_SUM_PER_EVENT:"USD_SUM_PER_EVENT",USD_SUM_IDENTIFIED_USERS:"USD_SUM_IDENTIFIED_USERS",USD_SUM_PER_USER:"USD_SUM_PER_USER",MEDIAN_VALUE:"MEDIAN_VALUE",MEDIAN_VALUE_PER_USER:"MEDIAN_VALUE_PER_USER",MAU:"MAU",WAU:"WAU",DAU:"DAU",PERCENTILES_COUNT:"PERCENTILES_COUNT",PERCENTILES_VALUE:"PERCENTILES_VALUE",PERCENTILES_USD_VALUE:"PERCENTILES_USD_VALUE",OVERLAP:"OVERLAP",COUNT_PER_USER:"COUNT_PER_USER",VALUE_PER_USER:"VALUE_PER_USER",USD_VALUE_PER_USER:"USD_VALUE_PER_USER",SESSIONS_PER_JOURNEY:"SESSIONS_PER_JOURNEY",MEDIAN_JOURNEY_LENGTH:"MEDIAN_JOURNEY_LENGTH",AVERAGE_JOURNEY_LENGTH:"AVERAGE_JOURNEY_LENGTH",CONVERTED_JOURNEY_PERCENT:"CONVERTED_JOURNEY_PERCENT",JOURNEY_CHANNEL_INCLUSION:"JOURNEY_CHANNEL_INCLUSION",JOURNEY_INCLUSION:"JOURNEY_INCLUSION",EVENT_SOURCE_IDS:"EVENT_SOURCE_IDS",SESSION_BOUNCE_RATE:"SESSION_BOUNCE_RATE",USER_PROPERTY_USER_COUNT:"USER_PROPERTY_USER_COUNT"}}),null);
__d("AppEventQueryResultOrdering",[],(function(a,b,c,d,e,f){e.exports={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"}}),null);
__d("AdsGoalServerCreatedGoalDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"GOAL_SERVER_ACTION.CREATED_GOAL"}}),null);
__d("PartnerIntegrationDialogLoggingScopesProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").List()};e.exports=a}),null);
__d("PartnerIntegrationDialogLoggingScopesProvider",["Laminar","PartnerIntegrationDialogLoggingScopesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationDialogLoggingScopesProviderPlugin"),"PartnerIntegrationDialogLoggingScopesProviderPlugin")}),null);
__d("PartnerIntegrationDialogLoggingScopesReducerPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("immutable").List(c.loggingScopes)}};e.exports=a}),null);
__d("PartnerIntegrationDialogLoggingScopesAction",["Laminar","PartnerIntegrationDialogLoggingScopesReducerPlugin","PartnerIntegrationDialogLoggingScopesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("PartnerIntegrationDialogLoggingScopesReducerPlugin"),b("PartnerIntegrationDialogLoggingScopesProvider"),{})]},function(){return[]},"PARTNER_INTEGRATION.DIALOG_LOGGING_SCOPES");e.exports=a}),null);
__d("PartnerIntegrationSelectedIntegrationIDDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedIntegrationIDDataProvider",["Laminar","PartnerIntegrationSelectedIntegrationIDDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedIntegrationIDDataProviderPlugin"),"PartnerIntegrationSelectedIntegrationIDDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedPartnerTypeDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedPartnerTypeDataProvider",["Laminar","PartnerIntegrationSelectedPartnerTypeDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedPartnerTypeDataProviderPlugin"),"PartnerIntegrationSelectedPartnerTypeDataProviderPlugin")}),null);
__d("AnalyticsActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({COHORT:{QUERY_COMPLETED:null,QUERY_FAILED:null},PUSH:{APNS:{CREATE:null,CREATE_COMPLETE:null,FETCH:null,FETCH_COMPLETE:null,DELETE:null,DELETE_COMPLETE:null,ERROR:null,ERROR_VALIDATE:null,VALIDATE:null,VALIDATE_COMPLETE:null},GCM:{CREATE:null,CREATE_COMPLETE:null,FETCH:null,FETCH_COMPLETE:null,DELETE:null,DELETE_COMPLETE:null,ERROR:null,ERROR_VALIDATE:null,VALIDATE:null,VALIDATE_COMPLETE:null}},Segment:{APPLY_SEGMENT:null,CLEAR_SEGMENT:null,CREATE_SEGMENT_START:null,DELETE_SEGMENT_START:null,FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_START:null,FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_COMPLETE:null,FETCH_ESTIMATED_CUSTOM_AUDIENCE_SIZE_ERROR:null,FETCH_SEGMENT_LIST_COMPLETE:null,FETCH_SEGMENT_LIST_START:null,FETCH_SEGMENT_TOTAL_COMPLETE:null,FETCH_SEGMENT_TOTAL_START:null,FETCH_TOTAL_USERS_COMPLETE:null,FETCH_TOTAL_USERS_START:null,MODIFY_AND_APPLY_SEGMENT:null,MODIFY_SEGMENT:null,RESET_SEGMENT:null,TOGGLE_IS_SELECTOR_SHOWN:null,TOGGLE_SHOW_CONDITIONS:null,TOGGLE_SHOW_PERCENTILE:null,UPDATE_ACTIVE_SEGMENT_ID:null,UPDATE_SEGMENT_ERROR:null,UPDATE_SIZE_ERROR:null,UPDATE_TOTAL_SIZE_ERROR:null},DATE_RANGE:{APPLY:null,INITIALIZE:null,TIMEZONE_UPDATE_COMPLETE:null,TIMEZONE_UPDATE_ERROR:null},TIMEZONE_CONFIG:{INITIALIZE:null,UPDATE_COMPLETE:null,UPDATE_ERROR:null,UPDATE_START:null},EVENT_DEBUGGING:{APPLY_FILTER:null,INITIALIZE:null,REFRESH_COMPLETE:null,REFRESH_ERROR:null,REFRESH_START:null,APP_VERSION_FETCH_COMPLETE:null,APP_VERSION_FETCH_ERROR:null,APP_VERSION_FETCH_START:null},UserPropertyConfig:{FETCH_CONFIG_START:null,FETCH_CONFIG_COMPLETE:null,UPDATE_FETCH_ERROR:null},NUX:{COMPLETE_TOUR:null,START_TOUR:null,DISMISS:null,INIT:null,NEXT_TIP:null,PREVIOUS_TIP:null,RESUME:null,RESTART:null,SHOW_COMPLETE_MODAL:null},NOTIFICATION:{DISMISS_NOTIFICATION:null,SHOW_NOTIFICATION:null},HEADER:{SECTION_UPDATE:null,FEATURE_UPDATE:null,IS_COMPARING_UPDATE:null,VIEW_UPDATE:null},INSIGHTS:{INITIALIZE_INSIGHTS:null,INSIGHTS_FETCHED:null,INSIGHTS_FETCH_FAILED:null,INSIGHT_RATED:null,INSIGHT_NAVIGATED:null,INSIGHT_CLICKED:null,INSIGHT_UNHIGHLIGHT:null,VISIBLE_INSIGHTS_COUNT_CHANGED:null},AUTOMATED_INSIGHTS:{EVENT_CONFIGS_INITIALIZED:null,EVENT_CONFIGS_UPDATED:null,INITIALIZE_INSIGHTS:null,INSIGHTS_FETCHED:null,INSIGHT_FILTERS_CHANGED:null,INSIGHT_RATED:null,INSIGHT_NAVIGATED:null,INSIGHT_CLICKED:null,INSIGHT_UNHIGHLIGHT:null,VISIBLE_INSIGHTS_COUNT_CHANGED:null},USER_BUSINESS_PERSONAS:{FETCH_BUSINESS_PERSONAS_START:null,FETCH_BUSINESS_PERSONAS_COMPLETE:null,FETCH_BUSINESS_PERSONAS_ERROR:null},ANALYTICS_ENTITIES_LIST:{INITIALIZE:null,ADD_ENTITY:null,UPDATE_ENTITY:null},ANALYTICS_RIGHT_RAIL_NUDGE:{INITIALIZE_RR:null},SAMPLING_DISCLOSURE:{ADD_EVENTS_IN_CONTEXT:null,CLEAR_EVENTS_IN_CONTEXT:null},SOURCE_DEDUP_OVERRIDE:{DISABLE_DEDUPE:null},DASHBOARDS:{CANCEL_CREATE_OR_UPDATE_CHART:null,CHART_RESIZE:null,SET_CHART_CONFIG:null,SET_SETTING_MODAL:null,START_CREATE_CHART:null,START_EDIT_CHART:null,START_VIEW_DASHBOARD:null},AD_ACCOUNTS:{FETCH_AD_ACCOUNTS_START:null,FETCH_AD_ACCOUNTS_COMPLETE:null,FETCH_AD_ACCOUNTS_ERROR:null},SETTINGS:{FETCH_SETTINGS_START:null,FETCH_SETTINGS_COMPLETE:null,FETCH_SETTINGS_ERROR:null,UPDATE_START:null,UPDATE_COMPLETE:null,UPDATE_ERROR:null},PLATFORM_METRICS_CONFIG:{FETCH_START:null,FETCH_COMPLETE:null,FETCH_ERROR:null},CMS:{INITIALIZE:null},COMMON:{INITIALIZE:null},JOURNEY:{JOURNEY_TIMEOUT_CHANGE:null,JOURNEY_TIMEOUT_DATE_RANGE_INCLUSION_CHANGE:null},INSTAGRAM:{FETCH_INSTAGRAM_MEDIA_START:null,FETCH_INSTAGRAM_MEDIA_COMPLETE:null,FETCH_INSTAGRAM_MEDIA_ERROR:null}});e.exports=a}),null);
__d("AnalyticsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,{strict:!1})||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var c=b.prototype;c.dispatchAction=function(b){a.prototype.dispatch.call(this,{action:b})};return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a()}),null);
__d("AnalyticsDateRangeStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","Timezone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("AnalyticsActionType").DATE_RANGE;a=b("Timezone").PST8PDT;c={errorMessage:null,timezoneID:a,visibleDateRange:{},visibleDateRangeType:null};var h=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(c));d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new h()};c.reduce=function(a,b){b=b.action;switch(b.type){case g.INITIALIZE:return this.$AnalyticsDateRangeStore1(a,b);case g.APPLY:return this.$AnalyticsDateRangeStore2(a,b);case g.TIMEZONE_UPDATE_COMPLETE:return this.$AnalyticsDateRangeStore3(a,b);case g.TIMEZONE_UPDATE_ERROR:return a.set("errorMessage",b.errorMessage);default:return a}};c.$AnalyticsDateRangeStore1=function(a,b){return a.set("timezoneID",b.timezoneID).set("visibleDateRange",b.visibleDateRange).set("visibleDateRangeType",b.visibleDateRangeType)};c.$AnalyticsDateRangeStore2=function(a,b){return a.set("visibleDateRange",b.visibleDateRange).set("visibleDateRangeType",b.visibleDateRangeType)};c.$AnalyticsDateRangeStore3=function(a,b){return a.set("timezoneID",b.timezoneID)};c.getVisibleDateRange=function(){return this.getState().visibleDateRange};c.getDateRangeType=function(){return this.getState().visibleDateRangeType};c.getTimezoneID=function(){return this.getState().timezoneID};return b}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("AnalyticsDispatcher"))}),null);
__d("InsightsGraphAPIConstants",[],(function(a,b,c,d,e,f){a={APP_INSIGHTS_EDGE:"app_insights",APP_USER_PROPERTY_CONFIG_NODE:"analytics_user_property_config",ANALYTICS_QUERY_EDGE:"analytics_query",ANALYTICS_PLATFORM_METRICS_NODE:"analytics_platform_metrics_config",ANALYTICS_USER_CONFIG_NODE:"analytics_user_config",COHORTS_EDGE:"analytics_cohorts",COHORTS_NODE:"analytics_cohort",COHORT_QUERY:"analytics_cohort_query",FUNNEL_QUERY:"analytics_funnel_query",METRIC_APP_EVENT:"app_event",OFFSITE_PIXEL_NODE:"offsite_pixel",SEGMENT_EDGE:"analytics_segments",SEGMENT_NODE:"analytics_segment",APP_EVENT_CONFIG_NODE:"app_event_config",ANALYTICS_ENTITY_USER_CONFIG_EDGE:"analytics_entity_user_config",ONEOFF_PUSH_CAMPAIGNS_EDGE:"analytics_oneoff_push_campaigns",ONEOFF_PUSH_CAMPAIGNS_NODE:"analytics_oneoff_push_campaign",CONTINUOUS_PUSH_CAMPAIGNS_EDGE:"analytics_continuous_push_campaigns",CONTINUOUS_PUSH_CAMPAIGNS_NODE:"analytics_continuous_push_campaign",ANALYTICS_GCM_CREDENTIALS_EDGE:"analytics_gcm_credentials",ANALYTICS_GCM_CREDENTIALS_NODE:"analytics_gcm_credential",ANALYTICS_APNS_CREDENTIALS_EDGE:"analytics_apns_credentials",ANALYTICS_APNS_CREDENTIALS_NODE:"analytics_apns_credential",ANALYTICS_ENTITY_NODE:"analytics_entity",ANALYTICS_CONFIG_NODE:"analytics_config",ANALYTICS_EVENT_CONFIG:"analytics_event_config",ANALYTICS_PUSH_CARD_IMAGES_EDGE:"analytics_push_card_images",ANALYTICS_PUSH_CARD_IMAGES_NODE:"analytics_push_card_image",ANALYTICS_PUSH_CARD_EDGE:"analytics_push_cards",ANALYTICS_PUSH_CARD_NODE:"analytics_push_card",USER_NODE:"user",BUSINESS_USERS_EDGE:"business_users",FACEBOOK_PAGE_POST:"facebook_page_post",EDGE_NODE_LIMIT:1e3};e.exports=a}),null);
__d("InsightsGraphAPIErrorUtils",["ReloadPage"],(function(a,b,c,d,e,f){__p&&__p();function a(a){return a.message}function g(a){return a.code===190&&a.error_subcode===463&&a.type==="OAuthException"}function c(a){return a.then(function(a){return a},function(a){g(a)&&b("ReloadPage").now();throw a})}d={getMessage:a,isSessionExpiredError:g,handleSessionExpired:c};e.exports=d}),null);
__d("InsightsGraphAPI",["Promise","AnalyticsGraphAPIConfig","BonsaiConfig","GraphAPI","GraphAPIRequestSpec","GraphAPIRequestSpecPotentialEdge","InsightsGraphAPIConstants","InsightsGraphAPIErrorUtils","cachedGraphAPI","isValidID"],(function(a,b,c,d,e,f){__p&&__p();var g=b("InsightsGraphAPIErrorUtils").handleSessionExpired;function h(a){if(!a||!b("isValidID")(a))throw new Error("Internal Error: invalid FBID passed to InsightsGraphAPI");return a}function i(a,c,d,e){__p&&__p();c=c.map(function(a){return h(a)});var f=b("BonsaiConfig").graphMaxIds["default"],i=Math.ceil(c.length/f),j=[];for(var k=0;k<i;k++){var m=l().objects(a,c.slice(f*k,f*(k+1)));d&&(m=b("cachedGraphAPI")(m));j.push(m.get(e))}return g(b("Promise").all(j)).then(function(a){var b={};a.forEach(function(a){return Object.assign(b,a)});return b})}var j=b("AnalyticsGraphAPIConfig").GRAPH_API_VERSION;a=function(a){j=a};var k=null;c=function(a){k=h(a)};var l=function(a){a=a?a:j;return b("GraphAPI")(a,e.id)},m=function(a){a=h(a==null?k:a);return l().object("application",a)};d=function(a){return g(m().get(a))};var n=function(a){return m().edge(a)};f=function(a,c){c=babelHelpers["extends"]({limit:b("InsightsGraphAPIConstants").EDGE_NODE_LIMIT},c);return g(n(a).get(c))};var o=function(a,b){return g(n(a).post(b))},p=function(a){return g(b("cachedGraphAPI")(m()).get(a))},q=function(a,c){return g(b("cachedGraphAPI")(n(a)).get(c))},r=function(a,c,d){c=h(c);return g(b("cachedGraphAPI")(l().object(a,c)).get(d))},s=function(a,b,c){return i(a,b,!0,c)},t=function(a,c,d,e){c=h(c);return g(b("cachedGraphAPI")(w(a,c,d)).get(e))},u=function(a,b,c){b=h(b);return g(l().object(a,b).get(c))},v=function(a,b,c){return i(a,b,!1,c)},w=function(a,b,c){b=h(b);return l().object(a,b).edge(c)},x=function(a,c,d,e){c=h(c);e=babelHelpers["extends"]({limit:b("InsightsGraphAPIConstants").EDGE_NODE_LIMIT},e);return g(w(a,c,d).get(e))},y=function(a,b,c,d){b=h(b);return g(w(a,b,c).post(d))},z=function(a,b,c){b=h(b);return g(l().object(a,b).post(c))},A=function(a){a=h(a);return g(l().object("remove",a).remove())},B=function(a){return g(l().me().get(a))};Object.assign(l,{app:m,appEdgeGet:f,appEdgePost:o,appGet:d,blacklist:b("GraphAPI").blacklist,cachedAppEdgeGet:q,cachedAppGet:p,cachedObjectEdgeGet:t,cachedObjectGet:r,cachedObjectsGet:s,objectEdge:w,objectEdgeGet:x,objectEdgePost:y,objectGet:u,objectPost:z,objectRemove:A,objectsGet:v,setDefaultVersion:a,setInsightsObjectID:c,userGet:B});e.exports=l}),null);
__d("AnalyticsErrorMessages",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.getMessageByCode=function(a){__p&&__p();switch(a){case 190:return g._("Your session has expired. Please refresh this page to continue.");case 3e3:return g._("You don't have permission to view this data");case 3001:return g._("No data is available");case 3003:return g._("You need to have admin access to view this event");case 3006:return g._("Not enough data");case 3007:return g._("Data is temporarily unavailable. Please try again later");case 3008:return g._("Maximum date range for this chart is 180 days.");case 3013:return g._("Demographic information is not available for Analytics Only event sources.");case 3014:return g._("Analytics entity is missing event(s) configuration entity");case 1:default:return g._("Sorry, something went wrong")}};return a}();e.exports=new a()}),null);
__d("AnalyticsAbstractQueryBuilder",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.getQuery=function(){g(0,85)};b.getQueryAsPromise=function(){g(0,85)};b.getBeforeSubmit=function(){return function(){}};b.getSource=function(){return{section:this.getSection(),tag:this.getTag()}};b.setSection=function(a){this.$1=a;return this};b.getSection=function(){return this.$1};b.setTag=function(a){this.$2=a;return this};b.getTag=function(){return this.$2};b.setCurrency=function(a){this.$3=a;return this};b.getCurrency=function(){return this.$3};b.setSectionLoadId=function(a){this.$4=a;return this};b.getSectionLoadId=function(){return this.$4};b.setOnSuccess=function(a){this.$5=a;return this};b.setOnError=function(a){this.$6=a;return this};b.getCallback=function(){return this.$5};b.getErrorCallback=function(){return this.$6};b.getPreparedCallback=function(){return this.prepareCallback(this.getCallback())};b.getPreparedErrorCallback=function(){return this.prepareErrorCallback(this.getErrorCallback())};b.prepareCallback=function(a){return a};b.prepareErrorCallback=function(a){return a};return a}();e.exports=a}),null);
__d("AnalyticsChartSegmentBehavior",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USE_GLOBAL:"USE_GLOBAL",MERGE:"MERGE",USE_LOCAL:"USE_LOCAL"})}),null);
__d("AnalyticsFilterSetOperator",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AND:"AND",OR:"OR"})}),null);
__d("AnalyticsFilterType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT:"EVENT",PARAM:"PARAM",SET:"SET"})}),null);
__d("FBAFilter",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.constructor!==a.constructor||g(0,348)}var b=a.prototype;b.getFilterType=function(){g(0,85)};b.serialize=function(){var a=this.getShapeForSerialization();return JSON.stringify(a)};b.getShapeForSerialization=function(){g(0,85)};b.updateUnitType=function(a){g(0,85)};b.asFilterSet=function(){g(0,85)};b.isEventFilter=function(){return!1};b.assertEventFilter=function(){throw new Error("assertEventFilter called on non-FBAEventFilter")};b.isParamFilter=function(){return!1};b.assertParamFilter=function(){throw new Error("assertParamFilter called on non-FBAParamFilter")};b.getUnitTypes=function(){g(0,85)};b.equals=function(a){g(0,85)};return a}();e.exports=a}),null);
__d("FBATokenizerIndexUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){if(b>=a.length)return[].concat(a,[c()]);if(Number.isInteger(b))return a.map(function(a,d){return d===b?c(a):a});a=[].concat(a);a.splice(Math.ceil(b),0,c());return a}e.exports={insertWithFilterSetIndex:a}}),null);
__d("FBAFilterSet",["AnalyticsChartSegmentBehavior","AnalyticsFilterSetOperator","AnalyticsFilterType","FBAFilter","FBATokenizerIndexUtil","first"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(a){var b;b=c.call(this)||this;b.$FBAFilterSet1=babelHelpers["extends"]({},a);return b}var e=d.prototype;e.update=function(a){return new d(babelHelpers["extends"]({},this.$FBAFilterSet1,a))};e.merge=function(a){return this.update({filters:[].concat(this.getFilters(),a.getFilters())})};e.addFilter=function(a){return this.update({filters:[].concat(this.getFilters(),[a])})};e.removeFilter=function(a){return this.update({filters:this.getFilters().filter(function(b,c){return c!==a})})};e.updateFilter=function(a,b){return this.update({filters:this.getFilters().map(function(c,d){return d===b?a(c):c})})};e.updateFilters=function(a){return this.update({filters:this.getFilters().map(a)})};e.replaceOrAddFilter=function(a,c){c=b("FBATokenizerIndexUtil").insertWithFilterSetIndex(this.getFilters(),c.toNumber(),function(){return a});return this.update({filters:c})};e.updateEventFilter=function(a,b){return this.updateFilter(function(b){return a(b.assertEventFilter())},b)};e.updateParamFilter=function(a,b){return this.updateFilter(function(b){return a(b.assertParamFilter())},b)};e.getSize=function(){return this.getFilters().length};e.getFilters=function(){return this.$FBAFilterSet1.filters};e.getOperator=function(){return this.$FBAFilterSet1.op};e.getFilterType=function(){return b("AnalyticsFilterType").SET};e.getFirstEventName=function(){return this.getEventNames()[0]};e.getEventNames=function(){return this.getEventFilters().map(function(a){return a.getCondition().getEventName()})};e.getEventFilters=function(){return this.getFilters().filter(function(a){return a.isEventFilter()}).map(function(a){return a.assertEventFilter()})};e.getFirstEventFilter=function(){return b("first")(this.getEventFilters())};e.getParamFilters=function(){return this.getFilters().filter(function(a){return a.isParamFilter()}).map(function(a){return a.assertParamFilter()})};e.getActiveFilterIndexForBuilderState=function(a){var b=this.getFilters().length;return a.toNumber()===b?a:a.nextIndexAfterInserting()};e.isEmpty=function(){return this.getFilters().length===0};e.equals=function(a){if(!(a instanceof d))return!1;var b=this.getFilters(),c=a.getFilters();return this.getOperator()===a.getOperator()&&b.length===c.length&&b.every(function(a,b){return a.equals(c[b])})};e.getShapeForSerialization=function(){var a=this.getFilters().map(function(a){return a.getShapeForSerialization()});switch(a.length){case 0:return{};case 1:return a[0];default:return{op:this.getOperator(),filters:a,filterType:"SET"}}};d.empty=function(){return g};d.resolve=function(d){var e=d.behavior||b("AnalyticsChartSegmentBehavior").USE_LOCAL,c=d.global||g;d=d.local||g;switch(e){case"USE_GLOBAL":return c;case"USE_LOCAL":return d;case"MERGE":return d.merge(c);default:e;throw Error("Unexpected segment behavior: "+e)}};e.asFilterSet=function(){return this};e.getUnitTypes=function(){return h(this.getFilters().map(function(a){return a.getUnitTypes()}))};return d}(b("FBAFilter"));var g=new a({filters:[],op:b("AnalyticsFilterSetOperator").AND});function h(a){var b;return(b=[]).concat.apply(b,a)}e.exports=a}),null);
__d("FBAEmptyFilterSet",["FBAFilterSet"],(function(a,b,c,d,e,f){"use strict";e.exports=b("FBAFilterSet").empty()}),null);
__d("AnalyticsQueryBase",["invariant","FBAEmptyFilterSet","PHPQuerySerializer"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a?a.replace(/\W/g,"_").padEnd(3,"_").slice(0,128).toLowerCase():null}a=function(){"use strict";__p&&__p();function a(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$6=b,this.$7=c,this.$2=d,this.$3=e,this.$12=f,this.$13=g,this.$14=h,this.$4=!1,this.$5=!1,this.$8=!1,this.$9=i,this.$10=j,this.$11=k}var c=a.prototype;c.cancelQuery=function(){this.$4=!0};c.getAnalyticsEntityID=function(){return this.$1};c.getSince=function(){return this.$6};c.getUntil=function(){return this.$7};c.getFilterSet=function(){return this.$2||b("FBAEmptyFilterSet")};c.getFilters=function(){return this.$3};c.getSource=function(){return this.$9};c.getCurrency=function(){return this.$10};c.getSectionLoadId=function(){return this.$11};c.getSanitizedSourceString=function(){return["www",h(this.getSource()?this.getSource().section:null),h(this.getSource()?this.getSource().tag:null)].filter(function(a){return a}).join("/")};c.callCallback=function(a){this.$4||this.$12(a)};c.callErrorCallback=function(a){this.$4||this.$13(a)};c.setIsRetry=function(){this.$5=!0};c.isRetry=function(){return this.$5};c.isCancelled=function(){return this.$4};c.setDisableSourceDedupe=function(){this.$8=!0};c.isSourceDedupeDisabled=function(){return this.$8};c.beforeSubmit=function(){this.$14&&this.$14()};c.getExtraGraphAPIParams=function(){g(0,4981)};c.toGraphAPIParam=function(){var a={filter_set:this.getFilterSet().serialize(),filters:this.getFilters(),since:this.getSince(),until:this.getUntil(),source:this.getSanitizedSourceString()},b=this.getSectionLoadId();b&&(a.section_load_id=b);this.isSourceDedupeDisabled()&&(a.disable_source_deduplication=!0);b=this.getExtraGraphAPIParams();return babelHelpers["extends"]({},a,b)};c.toCacheKey=function(){return b("PHPQuerySerializer").serialize(babelHelpers["extends"]({analyticsEntityID:this.getAnalyticsEntityID(),currency:this.getCurrency()},this.toGraphAPIParam()))};return a}();e.exports=a}),null);
__d("AppEventQueryAggregationPeriod",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",RANGE:"range"})}),null);
__d("AnalyticsQuery",["AnalyticsQueryAggregationMethod","AnalyticsQueryBase","AppEventQueryAggregationPeriod","AppEventQueryResultOrdering","PHPQuerySerializer"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();c=a.call(this,c,o,p,i,j,r,s,t,u,v,w)||this;if(g===b("AppEventQueryAggregationPeriod").RANGE&&f.length>0&&(m==null||m.length===0)&&!e.includes(b("AnalyticsQueryAggregationMethod").OVERLAP)){m=e.slice(0,1);n=(o=n)!=null?o:b("AppEventQueryResultOrdering").DESCENDING}c.$AnalyticsQuery1=d;c.$AnalyticsQuery2=e.slice();c.$AnalyticsQuery3=f.slice();c.$AnalyticsQuery4=h;c.$AnalyticsQuery5=k;c.$AnalyticsQuery6=l;c.$AnalyticsQuery7=m?m.slice():null;c.$AnalyticsQuery8=n;c.$AnalyticsQuery9=g;c.$AnalyticsQuery10=q;return c}var d=c.prototype;d.getEventName=function(){return this.$AnalyticsQuery1};d.getAggregations=function(){return this.$AnalyticsQuery2.slice()};d.getBreakdowns=function(){return this.$AnalyticsQuery3.slice()};d.getIntervalsToAggregate=function(){return this.$AnalyticsQuery4};d.getAggregationPeriod=function(){return this.$AnalyticsQuery9};d.getLimit=function(){return this.$AnalyticsQuery5};d.getMetricParams=function(){return this.$AnalyticsQuery6};d.getOrderingColumns=function(){return this.$AnalyticsQuery7};d.getOrderingType=function(){return this.$AnalyticsQuery8};d.getNotifySamplingStore=function(){return this.$AnalyticsQuery10};d.getExtraGraphAPIParams=function(){var a={aggregations:this.getAggregations(),aggregation_period:this.getAggregationPeriod(),breakdowns:this.getBreakdowns(),event_name:this.getEventName(),intervals_to_aggregate:this.getIntervalsToAggregate(),limit:this.getLimit(),metric_params:this.getMetricParams(),ordering_columns:this.getOrderingColumns(),ordering_type:this.getOrderingType(),retry:this.isRetry()};return a};d.toCacheKey=function(){var a=this.getFilterSet();a=a==null?null:a.serialize();return b("PHPQuerySerializer").serialize({aggregation_period:this.getAggregationPeriod(),aggregations:this.getAggregations(),analyticsEntityID:this.getAnalyticsEntityID(),breakdowns:this.getBreakdowns(),currency:this.getCurrency(),event_name:this.getEventName(),filterSet:a,filters:this.getFilters(),intervals_to_aggregate:this.getIntervalsToAggregate(),limit:this.getLimit(),metricParams:this.getMetricParams(),ordering_columns:this.getOrderingColumns(),ordering_type:this.getOrderingType(),since:this.getSince(),until:this.getUntil(),disable_source_deduplication:this.isSourceDedupeDisabled()})};return c}(b("AnalyticsQueryBase"));e.exports=a}),null);
__d("AnalyticsAsyncPoller",["invariant","Promise","regeneratorRuntime","abstractMethod","chunkArray","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=null,this.$2=[],this.$3=babelHelpers["extends"]({},a)}var c=a.prototype;c.get=function(a){var c=this;return new(b("Promise"))(function(b,d){c.$4({input:a,res:b,rej:d,pollCount:0})})};c.getAll=function(a){var c=this;return b("Promise").all(a.map(function(a){return c.get(a)}))};c.$4=function(a){var c=this;this.$2.push(a);this.$1==null&&(this.$1=b("setTimeoutAcrossTransitions")(function(){return c.$5()},this.$3.batchInterval))};c.$5=function(){var a=this,c=this.$2;this.$2=[];this.$1=null;b("chunkArray")(c,this.$3.batchSize).forEach(function(b){a.$6(b)["catch"](function(a){b.forEach(function(b){return b.rej(a)})})})};c.$6=function(a){__p&&__p();var c=this,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d=this.$3.maxPolls;f.next=3;return b("regeneratorRuntime").awrap(this.__pollImpl(a.map(function(a){return a.input})));case 3:e=f.sent,a.length===e.length||g(0,12968,a.length,e.length),a.forEach(function(a,b){__p&&__p();b=e[b];if(b instanceof Error){a.rej(b);return}if(b!=null){a.res(b);return}if(d>0&&a.pollCount>=d-1){a.rej(new Error("Value not resolved in "+d+" tries"));return}c.$4(babelHelpers["extends"]({},a,{pollCount:a.pollCount+1}))});case 6:case"end":return f.stop()}},null,this)};c.__pollImpl=function(a){return b("abstractMethod")("AnalyticsAsyncPoller","__pollImpl")};return a}();e.exports=a}),null);
__d("AnalyticsQueryStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPLETE:"complete",FAILED:"failed",INVALID:"invalid",REQUESTED:"requested",RUNNING:"running"})}),null);
__d("AnalyticsQueryPoller",["regeneratorRuntime","AnalyticsAsyncPoller","AnalyticsQueryStatus","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsGraphAPIErrorUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("InsightsGraphAPIErrorUtils").handleSessionExpired,h=(a={},a[b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE]=["query_id","status","datapoints","columns","error"],a[b("InsightsGraphAPIConstants").COHORT_QUERY]=["query_id","status","data","error"],a[b("InsightsGraphAPIConstants").FUNNEL_QUERY]=["query_id","status","data","error"],a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.get=function(a){var b=a.edge+":"+a.objID+":"+a.accessToken,d=c.$AnalyticsQueryPoller1.get(b);d==null&&(d=new c(a,{batchSize:50,batchInterval:1e3,maxPolls:Number.POSITIVE_INFINITY}),c.$AnalyticsQueryPoller1.set(b,d));return d};function c(b,c){c=a.call(this,c)||this;c.$AnalyticsQueryPoller2=babelHelpers["extends"]({},b);return c}var d=c.prototype;d.__pollImpl=function(a){__p&&__p();var c,d,e,f,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:c=this.$AnalyticsQueryPoller2,d=c.objID,e=c.edge,f=c.accessToken;j.next=3;return b("regeneratorRuntime").awrap(g(b("InsightsGraphAPI").app(d).edge(e).get({access_token:f,query_ids:a,fields:h[e],date_format:"U"})));case 3:i=j.sent;return j.abrupt("return",i.data.map(function(a){switch(a.status){case b("AnalyticsQueryStatus").COMPLETE:case b("AnalyticsQueryStatus").FAILED:case b("AnalyticsQueryStatus").INVALID:return a;default:return null}}));case 5:case"end":return j.stop()}},null,this)};return c}(b("AnalyticsAsyncPoller"));c.Temporary_EDGE_TO_API_FIELDS=h;c.$AnalyticsQueryPoller1=new Map();e.exports=c}),null);
__d("AnalyticsSamplingDisclosureActions",["AnalyticsActionType","AnalyticsDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("AnalyticsActionType").SAMPLING_DISCLOSURE;a={addEventsInContext:function(a){a.length>0&&b("AnalyticsDispatcher").dispatchAction({type:g.ADD_EVENTS_IN_CONTEXT,data:{event_names:a}})},clearEventsInContext:function(){b("AnalyticsDispatcher").dispatchAction({type:g.CLEAR_EVENTS_IN_CONTEXT,data:{}})}};e.exports=a}),null);
__d("AnalyticsSourceDedupeOverrideStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AnalyticsActionType").SOURCE_DEDUP_OVERRIDE;a={disableDedupe:!1};var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new h()};c.reduce=function(a,b){b=b.action;switch(b.type){case g.DISABLE_DEDUPE:return a.set("disableDedupe",!0);default:return a}};c.isSourceDedupeDisabled=function(){return this.getState().disableDedupe};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("AnalyticsDispatcher"))}),null);
__d("AppEventQueryError",["AnalyticsErrorCodes","AnalyticsErrorMessages","InsightsGraphAPIErrorUtils"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1={code:a.code,subcode:a.subcode,message:a.message,type:a.type},this.$2=b}var c=a.prototype;c.getError=function(){return Object.assign({},this.$1)};c.getMessage=function(){return b("AnalyticsErrorMessages").getMessageByCode(this.$1.code)||this.$1.message};c.isNotEnoughData=function(){return this.$1.code===b("AnalyticsErrorCodes").NOT_ENOUGH_USERS};c.isSessionExpiredError=function(){return b("InsightsGraphAPIErrorUtils").isSessionExpiredError(this.$1)};c.isPermissionError=function(){return this.$1.code===3e3};c.isInvalidQueryError=function(){return this.$1.code===3001};c.isMetricOfflineError=function(){return this.$1.code===3002};c.isMetricRequiresAdmin=function(){return this.$1.code===3003};c.isUnknownError=function(){return this.$1.code===1};return a}();e.exports=a}),null);
__d("AnalyticsChartCalculatedFieldOperator",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD:"ADD",DIV:"DIV"})}),null);
__d("BonsaiApiBreakdown",[],(function(a,b,c,d,e,f){a={NONE:"none",ACQUISITION_SOURCE:"acquisition_source",ACQUISITION_SOURCE_L1:"acquisition_source_l1",ACQUISITION_SOURCE_L2:"acquisition_source_l2",ACQUISITION_SOURCE_L3:"acquisition_source_l3",AGE:"age",API_METHOD:"api_method",APP_NAME:"app_name",APP_VERSION:"app_version",AUTH_STATE:"auth_state",AVG_SPEND_PER_USER:"avg_spend_per_user",CARRIER:"carrier",CITY:"city",CITY_CODE:"city_code",CLICKS:"clicks",CLIENT:"client",CORE_COUNT:"core_count",LABEL_COHORT:"label_cohort",COUNTRY:"country",CPI:"cpi",PUBLISHING_ACTOR_TYPE:"publishing_actor_type",AN_AGE_BUCKET:"reserved4",AN_GENDER_NAME:"reserved5",APP_EVENT_PARAMETER1:"app_event_parameter1",APP_EVENT_PARAMETER2:"app_event_parameter2",APP_EVENT_PARAMETER3:"app_event_parameter3",APP_EVENT_PARAMETER4:"app_event_parameter4",APP_EVENT_PARAMETER5:"app_event_parameter5",APP_EVENT_PARAMETER6:"app_event_parameter6",APP_EVENT_PARAMETER7:"app_event_parameter7",APP_EVENT_PARAMETER8:"app_event_parameter8",APP_EVENT_PARAMETER9:"app_event_parameter9",APP_EVENT_PARAMETER10:"app_event_parameter10",APP_EVENT_PARAMETER11:"app_event_parameter11",APP_EVENT_PARAMETER12:"app_event_parameter12",APP_EVENT_PARAMETER13:"app_event_parameter13",APP_EVENT_PARAMETER14:"app_event_parameter14",APP_EVENT_PARAMETER15:"app_event_parameter15",APP_EVENT_PARAMETER16:"app_event_parameter16",APP_EVENT_PARAMETER17:"app_event_parameter17",APP_EVENT_PARAMETER18:"app_event_parameter18",APP_EVENT_PARAMETER19:"app_event_parameter19",APP_EVENT_PARAMETER20:"app_event_parameter20",APP_EVENT_PARAMETER21:"app_event_parameter21",APP_EVENT_PARAMETER22:"app_event_parameter22",APP_EVENT_PARAMETER23:"app_event_parameter23",APP_EVENT_PARAMETER24:"app_event_parameter24",APP_EVENT_PARAMETER25:"app_event_parameter25",DEVICE_MODEL:"device_model",DEVICE_OS:"device_os",ERROR_CODE:"error_code",ERROR_MSG:"error_msg",ERROR_VALUE:"error_value",EVENT_SOURCE:"$event_source",GENDER:"gender",HOURLY:"hourly",IDENTITY_SOURCE:"identity_source",IMPRESSIONS:"impressions",INSTALLS:"installs",LOCALE:"locale",MEDIATYPE:"media_type",ACTION_TYPE:"action_type",OG_CLK_DEST:"destination",OG_OBJECT_TYPE:"object_type",PERCENTILE:"percentile",PLACEMENT:"placement",PLACEMENT_COUNTRY:"placement_country",PLACEMENT_SETTING:"reserved6",CHANNEL:"$platform",POST:"fb_page_post_id",INSTAGRAM_POST:"fb_ig_post_id",PURCHASE_EVENTS:"purchase_events",PUSH_CAMPAIGN:"fb_push_campaign",PUSH_CAMPAIGN_DEPRECATED:"fb_mobile_push_opened",REACH:"reach",REALIZED_REVENUE:"realized_revenue",REMAINING_DISK_GB:"remaining_disk_gb",REF:"ref",ADS_API_FIELDS:"ads_api_fields",ADS_ACCOUNT:"ads_account",ADS_METHOD:"ads_method",ADS_ACCOUNT_METHOD:"ads_account_method",ADS_ERRORCODE:"ads_errorcode",ADS_VERSION:"ads_version",ADS_ACCOUNT_ERRORCODE:"ads_account_errorcode",ADS_METHOD_ERRORCODE:"ads_method_errorcode",ADS_ACCOUNT_METHOD_ERRORCODE:"ads_account_method_errorcode",REGION_CODE:"region_code",ROAS:"roas",SCREEN_DIMENSIONS:"screen_dimensions",SHORT_VERSION_CODE:"short_version_code",SPEND:"spend",SPONSORED:"sponsored",STORY:"story",SOURCE:"source",TIMEZONE:"timezone",TOTAL_DISK_GB:"total_disk_gb",UI_ELEMENT:"ui_element",URL:"url",USER_AGENT:"user_agent",DATA_TYPE:"data_type",APP:"app",HAS_PUSH_TOKEN:"has_push_token",ADS_ADCAMPAIGN:"fb_ads_adcampaign_id",ADS_ADSET:"fb_ads_adset_id",ADS_ADGROUP:"fb_ads_adgroup_id",FB_ADS_POST_ID:"fb_ads_post_id",FB_ADS_PAGE_ID:"fb_ads_page_id",AK_LOGIN_TYPE:"fb_ak_login_type",AK_NOTIFICATION_TYPE:"fb_ak_notification_type",AK_COUNTRY_CODE:"fb_ak_country_code",AK_VERIFICATION_METHOD:"fb_ak_verification_method",AK_SDK:"fb_ak_sdk",AK_CLIENT_LOGIN_TYPE:"3_type",AK_CLIENT_COUNTRY_CODE:"9_country_code",AK_CLIENT_VERIFICATION_METHOD:"10_verification_method",AK_CLIENT_SDK:"11_sdk",AA_SCREEN_NAME:"fb_aa_time_spent_view_name",JOURNEY_START_CHANNEL:"fb_journey_start_channel",JOURNEY_END_CHANNEL:"fb_journey_end_channel",JOURNEY_IS_CONVERTED:"fb_journey_is_converted",JOURNEY_CHANNEL_LIST:"fb_journey_channel_list",JOURNEY_START_EVENT_SOURCE:"fb_journey_start_event_source",JOURNEY_END_EVENT_SOURCE:"fb_journey_end_event_source",JOURNEY_EVENT_SOURCE_LIST:"fb_journey_event_source_list",getAcquisitionSourceBreakdowns:function(){return[this.ACQUISITION_SOURCE,this.ACQUISITION_SOURCE_L1,this.ACQUISITION_SOURCE_L2,this.ACQUISITION_SOURCE_L3]},getBonsaiApiEquivalent:function(a){return typeof this[a]==="string"?this[a]:a},isBreakdownAfterSdkV4_2:function(a){return[this.TIMEZONE,this.SCREEN_DIMENSIONS,this.CARRIER,this.CORE_COUNT,this.TOTAL_DISK_GB,this.REMAINING_DISK_GB].indexOf(a)>=0}};e.exports=a}),null);
__d("AppEventQueryResult",["invariant","AnalyticsChartCalculatedFieldOperator","AnalyticsQueryAggregationMethod","BonsaiApiBreakdown","immutable","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c={timestamp:0},d={},e={};if(a.columns){var f=1;a.columns.breakdowns&&(a.columns.breakdowns.forEach(function(a,b){c[a]=b+f,e[a]=b}),f+=a.columns.breakdowns.size);a.columns.aggregations&&a.columns.aggregations.forEach(function(a,b){c[a]=b+f,d[a]=b})}this.$1=a.query_id;this.$2=a;this.$5=b("immutable").OrderedMap(c);this.$3=b("immutable").OrderedMap(d);this.$4=b("immutable").OrderedMap(e);this.$7=null;this.$8=-1}var c=a.prototype;c.getResult=function(c){var d=this,e={};c.forEach(function(a){d.$3.has(a)||g(0,5006,a),e[d.$3.get(a)]=a});c={columns:{aggregations:b("immutable").List(Object.keys(e).map(function(a){return e[a]})),breakdowns:this.$2.columns.breakdowns},datapoints:this.$2.datapoints.map(function(a){return{timestamp:a.timestamp,rows:a.rows.map(function(a){return{aggregations:a.aggregations.filter(function(a,b){return Object.prototype.hasOwnProperty.call(e,b)}).toList(),breakdowns:a.breakdowns}}).toList()}}).toList(),query_id:this.$1};return new a(c)};c.getResultAsRows=function(){return this.$10()};c.hasData=function(){return!this.$10().isEmpty()};c.getBreakdownUniqueValues=function(a){this.$4.has(a)||g(0,5007);var b=this.$5.get(a);a=this.$10().map(function(a){return a.get(b)});return a.toOrderedSet()};c.getColumnIndex=function(a){return b("nullthrows")(this.$5.get(a))};c.getColumnNames=function(){return b("immutable").List(this.$5.keys())};c.getTotalForBreakdownValue=function(a,b){this.$4.has(a)||g(0,5007);var c=this.$5.get(a);return this.$10().reduce(function(a,d){return d.get(c)===b?a+parseFloat(d.get(d.size-1)):a},0)};c.getValueForAggregation=function(a){var b=this.getResultAsRows();this.$5.has(a)||g(0,5008);b.count()<=1||g(0,5009);if(b.count()>0)return parseFloat(b.get(0).get(this.$5.get(a)));else return null};c.getTotals=function(){this.$7||(this.$7=this.$11());return{countTotal:this.$7.countTotal,sumTotal:this.$7.sumTotal,usdSumTotal:this.$7.usdSumTotal,countTotalIdentifiedUsers:this.$7.countTotalIdentifiedUsers,sumTotalIdentifiedUsers:this.$7.sumTotalIdentifiedUsers,usdSumTotalIdentifiedUsers:this.$7.usdSumTotalIdentifiedUsers}};c.getUniquesTotalDangerously=function(){this.$3.has(b("AnalyticsQueryAggregationMethod").USERS)||g(0,5010);this.$11();return this.$8};c.hasCurrencyValue=function(){__p&&__p();var a=this;if(this.$9==null){var c=[b("AnalyticsQueryAggregationMethod").USD_SUM,b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS,b("AnalyticsQueryAggregationMethod").USD_VALUE_PER_USER,b("AnalyticsQueryAggregationMethod").USD_SUM_PER_EVENT].map(function(b){return a.$3.get(b)}),d=this.$2.datapoints.some(function(a){return a.rows&&a.rows.some(function(a){return a.aggregations&&c.some(function(b){return parseFloat(a.aggregations.get(b))})})}),e=this.$3.get(b("AnalyticsQueryAggregationMethod").PERCENTILES_USD_VALUE),f=e!=null&&this.$2.datapoints.some(function(a){__p&&__p();return a.rows&&a.rows.some(function(a){__p&&__p();if(!a.aggregations)return!1;a=a.aggregations.get(e);if(a==null)return!1;try{a=JSON.parse(a);return a.some(function(a){return a>0})}catch(a){return!1}})});this.$9=d||f}return this.$9};c.$11=function(){__p&&__p();if(this.$7)return this.$7;var a=this.$3.keySeq().toJS().map(function(a){return 0});this.$2.datapoints&&this.$2.datapoints.forEach(function(b){b.rows&&b.rows.forEach(function(b){b.aggregations&&b.aggregations.forEach(function(b,c){a[c]+=parseFloat(b)})})});this.$3.has(b("AnalyticsQueryAggregationMethod").USERS)&&(this.$8=a[this.$3.get(b("AnalyticsQueryAggregationMethod").USERS)]);this.$7={countTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").COUNT)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").COUNT)]:null,sumTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").SUM)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").SUM)]:null,usdSumTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").USD_SUM)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").USD_SUM)]:null,countTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").COUNT_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").COUNT_IDENTIFIED_USERS)]:null,sumTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").SUM_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").SUM_IDENTIFIED_USERS)]:null,usdSumTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS)]:null};return this.$7};c.$10=function(){__p&&__p();if(this.$6)return this.$6;var a=[];this.$2.datapoints&&this.$2.datapoints.forEach(function(c){c.rows&&c.rows.forEach(function(d){var e=[c.timestamp];d.breakdowns&&(e=e.concat(d.breakdowns.toJS()));d.aggregations&&(e=e.concat(d.aggregations.toJS()));a.push(b("immutable").List(e))})});this.$6=b("immutable").List(a);return this.$6};c.formatResultsForBonsaiApiDataAdapter_DEPRECATED=function(){var a=this,b=[],c=this.$2.datapoints,d=this.$2.columns;if(!c||c.size===0)return{data:b};c.forEach(function(c){c.rows.forEach(function(e){var f=a.$12(d.breakdowns,e.breakdowns);e.aggregations.size===1||g(0,5011);b.push({time:c.timestamp,value:e.aggregations.get(0),breakdowns:f})})});return{data:b}};c.$12=function(a,c){if(!a)return{};var d=b("immutable").List.of(b("BonsaiApiBreakdown").APP_EVENT_PARAMETER3,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER4,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER5,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER7),e={};d.includes(a.first())?e[a.first()]=c.toArray().join("_"):a.forEach(function(a,b){return e[a]=c.get(b)});return e};c.getDatapointsRollupResult=function(){__p&&__p();var a=this.$2.datapoints,c=this.getTotals(),d=this.$2.columns;if(a&&a.size){a=a.get(0).rows;if(a&&a.size){a=a.map(function(a){var c=b("immutable").List(a.aggregations.map(function(a){return Number(a)}));a=b("immutable").List(a.breakdowns);return b("immutable").Map({aggregations:c,breakdowns:a})});a=b("immutable").List(a);return{rows:a,columns:d,totals:c}}}return null};c.add=function(a){return this.$13(b("AnalyticsChartCalculatedFieldOperator").ADD,a)};c.divide=function(a){return this.$13(b("AnalyticsChartCalculatedFieldOperator").DIV,a)};c.calculate=function(a,b){return this.$13(a,b)};c.$14=function(a){switch(a){case b("AnalyticsChartCalculatedFieldOperator").ADD:return function(a,b){return(a||0)+(b||0)};case b("AnalyticsChartCalculatedFieldOperator").DIV:return function(a,b){if(b)return(a||0)/b;else return 0};default:throw Error("Unknown calculated field operator: "+a)}};c.$15=function(a,c,d){__p&&__p();var e={},f={},g=[],h=[];a.getResultAsRows().forEach(function(a){var b=a.get(0),c=a.get(1);Object.prototype.hasOwnProperty.call(e,b)||(e[b]={});e[b][c]=parseFloat(a.get(2));g.push(b);h.push(c)});c.getResultAsRows().forEach(function(a){var b=a.get(0),c=a.get(1);Object.prototype.hasOwnProperty.call(f,b)||(f[b]={});f[b][c]=parseFloat(a.get(2));g.push(b);h.push(c)});var i=b("immutable").OrderedSet(h).toList();return b("immutable").OrderedSet(g).toList().map(function(a){return{rows:i.map(function(c){var g;return{aggregations:b("immutable").List([d((g=e)!=null?(g=g[a])!=null?g[c]:g:g,(g=f)!=null?(g=g[a])!=null?g[c]:g:g).toString()]),breakdowns:b("immutable").List([c])}}),timestamp:a}})};c.$16=function(a,c,d){__p&&__p();var e={},f={},g=[];a.getResultAsRows().forEach(function(a){var b=a.get(0);e[b]=parseFloat(a.get(1));g.push(b)});c.getResultAsRows().forEach(function(a){var b=a.get(0);f[b]=parseFloat(a.get(1));g.push(b)});return b("immutable").OrderedSet(g).toList().map(function(a){return{rows:b("immutable").List([{aggregations:b("immutable").List([d(e[a],f[a]).toString()]),breakdowns:b("immutable").List()}]),timestamp:a}})};c.$13=function(c,d){__p&&__p();var e=this.$14(c),f=this.$4.keySeq(),h=d.$4.keySeq();f.size<=1&&f.equals(h)||g(0,5013,f.join(","),h.join(","));h=f.first();this.$3.size===1&&d.$3.size===1||g(0,5014);f=this.$3.keySeq().first();var i=d.$3.keySeq().first(),j=b("immutable").Set([b("AnalyticsQueryAggregationMethod").COUNT,b("AnalyticsQueryAggregationMethod").USERS,b("AnalyticsQueryAggregationMethod").USD_SUM,b("AnalyticsQueryAggregationMethod").SUM]);j.has(f)||g(0,5015,f);j.has(i)||g(0,5015,i);f=h?this.$15(this,d,e):this.$16(this,d,e);return new a({columns:{aggregations:b("immutable").List([c]),breakdowns:b("immutable").List(h?[h]:[])},datapoints:f,query_id:"calculated_field_"+c+"_"+this.$1+":"+d.$1})};c.getAggregationColumns=function(){return this.$3};c.getBreakdownColumns=function(){return this.$4};c.__getData=function(){return this.$2};c.__getColumns=function(){return this.$5};c.__getRows=function(){return this.$6};return a}();e.exports=a}),null);
__d("AnalyticsQueryApi",["invariant","AnalyticsQuery","AnalyticsQueryPoller","AnalyticsQueryStatus","AnalyticsSamplingDisclosureActions","AnalyticsSourceDedupeOverrideStore","AppEventQueryAggregationPeriod","AppEventQueryError","AppEventQueryResult","InsightsApiAccess","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsGraphAPIErrorUtils","InsightsUtils","immutable","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("InsightsGraphAPIErrorUtils").handleSessionExpired,i={},j={},k={},l={},m=null,n=50,o=200,p=3e5;b("InsightsGraphAPI").blacklist(function(a){return a.path.includes(b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE)});var q=function(){return b("InsightsApiAccess").accessToken};a={queryAppEventData_DEPRECATED:function(a,c,d){d=d.map(function(c){return new(b("AnalyticsQuery"))(a,c.event_name,[c.aggregateBy],c.breakdowns?c.breakdowns:[],b("AppEventQueryAggregationPeriod").DAY,c.intervals_to_aggregate,c.filterSet,c.filters,null,{},null,null,c.since,c.until,!1,c.callback,c.error_callback,function(){},{section:c.section,tag:c.tag},c.currency,c.sectionLoadId)});this.queryAppEventDataForObject(a,c,d)},queryAppEventData:function(a){if(a.length===0)return;this.queryAppEventDataForObject(a[0].getAnalyticsEntityID(),q(),a)},queryCohortsData:function(a){if(a.length===0)return;var c=[];a.forEach(function(a){c.push(a.getFirstEvent().event_rule.event_name),c.push(a.getFollowupEvent().event_rule.event_name)});b("AnalyticsSamplingDisclosureActions").addEventsInContext(c);this._setDisableSourceDedupeIfNeeded(a);this._queryCohortsOrFunnelData({accessToken:q(),edge:b("InsightsGraphAPIConstants").COHORT_QUERY,objID:a[0].getAnalyticsEntityID()},a)},queryFunnelsData:function(a){if(a.length===0)return;var c=[];a.forEach(function(a){a.getEventNames().forEach(function(a){c.push(a)})});b("AnalyticsSamplingDisclosureActions").addEventsInContext(c);this._setDisableSourceDedupeIfNeeded(a);this._queryCohortsOrFunnelData({accessToken:q(),edge:b("InsightsGraphAPIConstants").FUNNEL_QUERY,objID:a[0].getAnalyticsEntityID()},a)},queryAppEventDataForObject:function(a,c,d){__p&&__p();if(d.length===0)return;var e=[];d.forEach(function(a){a.getNotifySamplingStore()&&e.push(a.getEventName())});b("AnalyticsSamplingDisclosureActions").addEventsInContext(e);this._setDisableSourceDedupeIfNeeded(d);d=this._filterAndCallbackCachedQueries(d);if(d.length===0)return;this._batchQueueQueryDispatch(a,c,d)},_setDisableSourceDedupeIfNeeded:function(a){b("AnalyticsSourceDedupeOverrideStore").isSourceDedupeDisabled()&&a.forEach(function(a){a.setDisableSourceDedupe()})},_queryCohortsOrFunnelData:function(a,b){b=this._filterAndCallbackCachedQueries(b);if(b.length===0)return;this._submitQueries(a,b)},_filterAndCallbackCachedQueries:function(a){return a.filter(function(c,d){c=c.toCacheKey();var e=i[c];e&&b("setTimeout")(function(){return a[d].callCallback(e)},0);return!e})},_batchQueueQueryDispatch:function(a,c,d){var e=this;k[a]||(k[a]=[]);l[a]=c;k[a]=k[a].concat(d);m||(m=b("setTimeout")(function(){return e._queryDispatch()},o))},_queryDispatch:function(){var a=this;Object.keys(k).forEach(function(c){if(Object.prototype.hasOwnProperty.call(k,c)){var d=k[c].slice();k[c]=[];for(var e=0;e<d.length;e+=n)a._submitQueries({objID:c,edge:b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE,accessToken:l[c]},d.slice(e,e+n))}});m=null},_submitQueries:function(a,c){__p&&__p();var d=this;c=c.filter(function(a){return!a.isCancelled()});c.forEach(function(a){return a.beforeSubmit()});var e=c.map(function(a){return a.toGraphAPIParam()}),f=a.accessToken,g=a.edge,i=a.objID;b("promiseDone")(h(b("InsightsGraphAPI").app(i).edge(g).post({access_token:f,queries:e})),function(e){__p&&__p();var f={};e.results&&e.results.forEach(function(a){f[a.query_id]=a});if(e.query_ids!=null){e=e.query_ids.filter(function(a,e){__p&&__p();var h=!j[a];h&&(j[a]=[]);j[a].push(c[e]);a=f[a];if(a)if(a.status===b("AnalyticsQueryStatus").COMPLETE){d._handleQueryResult(a,g);return!1}else if(a.status===b("AnalyticsQueryStatus").FAILED){d._handleFailed([a]);return!1}return h||c[e].isRetry()});d._pollQueries(a,e)}},function(a){return c.forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a))})})},_pollQueries:function(a,c){__p&&__p();var d=this,e=b("AnalyticsQueryPoller").get(a);b("promiseDone")(e.getAll(c),function(c){__p&&__p();var e=[],f=[];c.forEach(function(c){switch(c.status){case b("AnalyticsQueryStatus").COMPLETE:d._handleQueryResult(c,a.edge);break;case b("AnalyticsQueryStatus").FAILED:e.push(c);break;case b("AnalyticsQueryStatus").INVALID:f.push(c);break}});d._handleFailed(e);d._handleInvalid(a,f)},function(a){return c.forEach(function(c){j[c].forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a))}),delete j[c]})})},_handleInvalid:function(a,c){__p&&__p();if(c.length===0)return;var d=a.accessToken,e=a.edge,f=a.objID;c=c.filter(function(a){var c=j[a.query_id].some(function(a){return a.isRetry()});c&&(j[a.query_id].forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a.error))}),delete j[a.query_id]);return!c}).map(function(a){a=j[a.query_id].pop();a.setIsRetry();return a});e===b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE?this._batchQueueQueryDispatch(f,d,c):this._submitQueries(a,c)},_handleFailed:function(a){if(!a||a.length===0)return;a.forEach(function(a){var c;c=(c=j)!=null?c[a.query_id]:c;c!=null&&c.length>0&&(c.forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a.error))}),delete j[a.query_id])})},_handleQueryResult:function(a,c){__p&&__p();var d=a.query_id;d=j[d];if(!d||!d[0])return;var e=d[0].toCacheKey(),f=null;switch(c){case b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE:f=new(b("AppEventQueryResult"))(this._apiDataToAppEventQueryResultData(a));break;case b("InsightsGraphAPIConstants").FUNNEL_QUERY:case b("InsightsGraphAPIConstants").COHORT_QUERY:f=a.data;break;default:g(0,3491,c)}i[e]=f;c=b("InsightsUtils").getMostRecentPacificDayBegin(new Date())/1e3;c=d[0].getUntil()>=c;c&&b("setTimeout")(function(){delete i[e]},p);d.forEach(function(a){return a.callCallback(f)});delete j[a.query_id]},_apiDataToAppEventQueryResultData:function(a){return{columns:{aggregations:b("immutable").List(a.columns.aggregations),breakdowns:b("immutable").List(a.columns.breakdowns)},datapoints:b("immutable").List(a.datapoints?a.datapoints.map(function(a){return{timestamp:a.timestamp,rows:b("immutable").List(a.rows.map(function(a){return{aggregations:b("immutable").List(a.aggregations),breakdowns:b("immutable").List(a.breakdowns)}}))}}):null),query_id:a.query_id}},getCache:function(){return i},getRawCacheValue:function(a){a=a.toCacheKey();return i[a]}};e.exports=a}),null);
__d("AnalyticsCancelablePromise",["Promise","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=!1;return{promise:new(b("Promise"))(function(d,e){return b("promiseDone")(a,function(a){return c||d(a)},function(a){return c||e(a)})}),cancel:function(){c=!0}}}e.exports={makeCancelable:a}}),null);
__d("AnalyticsDateDefaults",["AnalyticsDateRangeStore","DateTime"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.getDefaultUntil=function(){return b("DateTime").now(b("AnalyticsDateRangeStore").getTimezoneID()).startOfDay()};return a}();e.exports=new a()}),null);
__d("AnalyticsDateRangeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"ALL",LAST_12_HOURS:"LAST_12_HOURS",LAST_24_HOURS:"LAST_24_HOURS",TODAY:"TODAY",YESTERDAY:"YESTERDAY",LAST_7_DAYS:"LAST_7_DAYS",LAST_14_DAYS:"LAST_14_DAYS",LAST_28_DAYS:"LAST_28_DAYS",LAST_30_DAYS:"LAST_30_DAYS",LAST_90_DAYS:"LAST_90_DAYS",LAST_180_DAYS:"LAST_180_DAYS",DATE_RANGE:"DATE_RANGE",INHERIT:"INHERIT"})}),null);
__d("BonsaiConstants",["cssVar"],(function(a,b,c,d,e,f,g){a={MAX_BREAKDOWN_BUCKETS:10,PIPELINE_DAILY:"pipe_daily",PIPELINE_WEEKLY:"pipe_weekly",PIPELINE_MONTHLY:"pipe_monthly",PIPELINE_LIFETIME:"pipe_lifetime",OVERVIEW_DAYS_BACK:14,BOOKMARKS:"bookmarks",CANVAS:"canvas",NEWSFEED:"newsfeed",NOTIFICATIONS:"notifications",REQUESTS:"requests",DEFAULT_DAYS_TO_LOAD:100,TWO_YEARS_TO_LOAD:732,DEFAULT_VISIBLE_DAYS:28,PUMA_START_TIMESTAMP_MILLI:14230368e5,TRI_STATE_FOR_BOOLEAN:{NO_VALUE:0,FALSE:1,TRUE:2},EVENT_SELECTOR_DEFAULT_VALUE:"_edv",EVENT_SELECTOR_NEW_VALUE:"_env",SOCIAL_PLUGIN_EVENT_PREFIX:"fb_sp_",ACCOUNT_KIT_EVENT_PREFIX:"fb_ak_",ALL:"@ALL@",ANALYTICS_FONT:"Helvetica, Arial, sans-serif",RID_DATA_LOSS_TIMESTAMP_MILLI:14429916e5};e.exports=a}),null);
__d("AnalyticsDateUtils",["fbt","invariant","AnalyticsDateDefaults","AnalyticsDateRangeType","BonsaiConstants","DateConsts","DateTime","InsightsUtils","LocalDate","Timezone","UTCUtils","d3-old/time/day","formatDate","nullthrows","parseISODate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={DateRangeTypes:b("AnalyticsDateRangeType"),isPartialDayDateRange:function(a){return a===b("AnalyticsDateRangeType").LAST_12_HOURS||a===b("AnalyticsDateRangeType").LAST_24_HOURS},isDateRangeSame:function(a,b){return a.since===b.since&&a.until===b.until},getDateRange:function(a,c){c=c==null?b("Timezone").UTC:c;var d,e;if(a===b("AnalyticsDateRangeType").ALL||a===b("AnalyticsDateRangeType").TODAY)d=this.getTodayStartInTimezoneUTCDate(c),e=this._addRangeToDate(d,a);else{var f=this.getNowInTimezoneUTCDate(c);e=this.isPartialDayDateRange(a)?f:this.getYesterdayStartInTimezoneUTCDate(c);d=this._addRangeToDate(e,a)}return{since:d.toDate(),until:e.toDate()}},_addRangeToDate:function(a,c){__p&&__p();switch(c){case b("AnalyticsDateRangeType").YESTERDAY:return a;case b("AnalyticsDateRangeType").TODAY:return a;case b("AnalyticsDateRangeType").LAST_12_HOURS:return a.subtractHours(12);case b("AnalyticsDateRangeType").LAST_24_HOURS:return a.subtractHours(24);case b("AnalyticsDateRangeType").LAST_7_DAYS:return a.subtractDays(6);case b("AnalyticsDateRangeType").LAST_14_DAYS:return a.subtractDays(13);case b("AnalyticsDateRangeType").LAST_28_DAYS:return a.subtractDays(27);case b("AnalyticsDateRangeType").LAST_30_DAYS:return a.subtractDays(29);case b("AnalyticsDateRangeType").LAST_90_DAYS:return a.subtractDays(89);case b("AnalyticsDateRangeType").LAST_180_DAYS:return a.subtractDays(179);case b("AnalyticsDateRangeType").ALL:case b("AnalyticsDateRangeType").DATE_RANGE:return a;default:h(0,2734,c)}},getFixedDateRange:function(a,c){return a.type===b("AnalyticsDateRangeType").DATE_RANGE?{since:b("nullthrows")(a.since).toDate(),until:b("nullthrows")(a.until).toDate()}:this.getDateRange(a.type,c)},resolveDateRange:function(a,b,c,d){a=this.resolveDateRangeConfig(a,b,c);return this.getFixedDateRange(a,d)},getDateRangeConfig:function(a,c){return{type:a,since:b("DateTime").fromDate(c.since,b("Timezone").UTC),until:b("DateTime").fromDate(c.until,b("Timezone").UTC)}},resolveDateRangeConfig:function(a,c,d){d={type:d,since:b("DateTime").fromDate(c.since,b("Timezone").UTC),until:b("DateTime").fromDate(c.until,b("Timezone").UTC)};return this.resolveDateRangeConfigs(a,d)},resolveDateRangeConfigs:function(a,c){return a.type===b("AnalyticsDateRangeType").INHERIT?c:a},getSinceFromURI:function(a,c){a=a.getQueryData().since;return a?new(b("DateTime"))(parseInt(a,10)/1e3,c):null},getUntilFromURI:function(a,c){a=a.getQueryData().until;return a?new(b("DateTime"))(parseInt(a,10)/1e3,c):null},getNowInTimezoneUTCDate:function(a){return b("DateTime").now(a).startOfHour().getParallelInUTC()},getTodayStartInTimezoneUTCDate:function(a){return b("DateTime").now(a).startOfDay().getParallelInUTC()},getTodayStartTimestampForQueryAPI:function(a){return j.getTimestampForQueryAPI(j.getTodayStartInTimezoneUTCDate(a).toDate())},getYesterdayStartInTimezone:function(a){return b("DateTime").now(a).startOfDay().subtractDays(1)},getYesterdayStartInTimezoneUTCDate:function(a){return this.getYesterdayStartInTimezone(a).getParallelInUTC()},isTwentyFourHoursOrLess:function(a){return a.until.getTime()-a.since.getTime()<=b("DateConsts").MS_PER_DAY},getBrowserSupportedDateTime:function(a){var c=new Date(a);isNaN(c.getTime())&&(c=b("parseISODate")(a));return c},getTimestampForQueryAPI:function(a){return b("InsightsUtils").utcTimeToPacificDay(a).getTime()/1e3},getDateForQueryAPI:function(a){return new Date(j.getTimestampForQueryAPI(a)*1e3)},getDateTimeFromAPITimestamp:function(a,c){c===void 0&&(c=b("Timezone").UTC);return b("DateTime").fromDate(new Date(a*1e3),c)},getDateRangeForGraphQLMutation:function(a){return{type:a.type,since:a.since==null?null:j.getTimestampForQueryAPI(a.since.toDate()),until:a.until==null?null:j.getTimestampForQueryAPI(a.until.toDate())}},getDaysBeforeNow:function(a){return Math.floor(Date.now()/b("DateConsts").MS_PER_DAY)-Math.floor(a/b("DateConsts").MS_PER_DAY)},getDaysInRange:function(a){return Math.floor(a.until/b("DateConsts").MS_PER_DAY)-Math.floor(a.since/b("DateConsts").MS_PER_DAY)+1},getDaysInRangeByTime:function(a,c){return Math.floor(c/b("DateConsts").SEC_PER_DAY)-Math.floor(a/b("DateConsts").SEC_PER_DAY)+1},isWithinDateRange:function(a,c){return a/b("DateConsts").SEC_PER_DAY<=c},isAffectedByPickedDateRange:function(a,b,c){var d=j.getTimestampForQueryAPI(c.since);c=j.getTimestampForQueryAPI(c.until);return a>=d&&a<=c||b>=d&&b<=c||a<=d&&b>=c},getRangeLength:function(a){return b("d3-old/time/day").range(a.since,a.until).length},getPopDateRange:function(a,b){var c=j.getRangeLength(b);a=j.getRangeLength({since:a.since,until:b.since});return c<=a?j.getPopDateRangeNoLimit(b):null},getPopDateRangeNoLimit:function(a){var c=j.getRangeLength(a);return{since:b("d3-old/time/day").offset(a.since,-1*(c+1)),until:b("d3-old/time/day").offset(a.since,-1)}},getTimePST_DO_NOT_USE:function(a){a=a.getTime();var c=-b("UTCUtils").getPacificOffsetAt(a);a+=c;return a/1e3},getDateRangeLabel:function(a,c){__p&&__p();switch(a){case b("AnalyticsDateRangeType").YESTERDAY:return g._("Yesterday");case b("AnalyticsDateRangeType").TODAY:return g._("Today");case b("AnalyticsDateRangeType").LAST_12_HOURS:return g._("Last 12 Hours");case b("AnalyticsDateRangeType").LAST_24_HOURS:return g._("Last 24 Hours");case b("AnalyticsDateRangeType").LAST_7_DAYS:return g._("Last 7 Days");case b("AnalyticsDateRangeType").LAST_14_DAYS:return g._("Last 14 Days");case b("AnalyticsDateRangeType").LAST_28_DAYS:return g._("Last 28 Days");case b("AnalyticsDateRangeType").LAST_30_DAYS:return g._("Last 30 Days");case b("AnalyticsDateRangeType").LAST_90_DAYS:return g._("Last 90 Days");case b("AnalyticsDateRangeType").LAST_180_DAYS:return g._("Last 180 Days");case b("AnalyticsDateRangeType").DATE_RANGE:c||h(0,2735);var d=c.since;c=c.until;var e="F d, Y";return g._("{start of date range, like March 11, 2016}-{start of date range, like April 12, 2016}",[g._param("start of date range, like March 11, 2016",b("formatDate")(d,e,{utc:!0})),g._param("start of date range, like April 12, 2016",b("formatDate")(c,e,{utc:!0}))]);default:h(0,2736,a)}},utcDateToPacificTime:function(a){return a.instant-Math.round(b("UTCUtils").getPacificOffsetAt(a.instant)/1e3)},getDateDiff:function(a,c){c=c.getUnixTimestamp()-a.getUnixTimestamp();return c/b("DateConsts").MS_PER_DAY},getWeekdayNamePlural:function(a){i||(i=[g._("Sundays"),g._("Mondays"),g._("Tuesdays"),g._("Wednesdays"),g._("Thursdays"),g._("Fridays"),g._("Saturdays")]);return i[a]},getLabelForDateRangeType:function(a,b,c,d){return b!=null&&c!=null?j.getLabelForCustomDateRangeType(b,c,(b=d)!=null?b:"\u2013"):j.getPresetLabelForDateRangeType(a)},getPresetLabelForDateRangeType:function(a){return g._({"TODAY":"today","YESTERDAY":"yesterday","LAST_12_HOURS":"last 12 hours","LAST_24_HOURS":"last 24 hours","LAST_7_DAYS":"last 7 days","LAST_14_DAYS":"last 14 days","LAST_28_DAYS":"last 28 days","LAST_30_DAYS":"last 30 days","LAST_90_DAYS":"last 90 days","DATE_RANGE":"custom"},[g._enum(a,{TODAY:"today",YESTERDAY:"yesterday",LAST_12_HOURS:"last 12 hours",LAST_24_HOURS:"last 24 hours",LAST_7_DAYS:"last 7 days",LAST_14_DAYS:"last 14 days",LAST_28_DAYS:"last 28 days",LAST_30_DAYS:"last 30 days",LAST_90_DAYS:"last 90 days",DATE_RANGE:"custom"})])},getLabelForCustomDateRangeType:function(a,c,d){a=b("LocalDate").fromISOString(a).format("M j, Y");c=b("LocalDate").fromISOString(c).format("M j, Y");if(a===c)return g._("{date}",[g._param("date",a)]);else return g._("{startDate} {conjunction} {endDate}",[g._param("startDate",a),g._param("conjunction",d),g._param("endDate",c)])},getFullDateRange:function(){return{since:b("d3-old/time/day").utc.offset(b("AnalyticsDateDefaults").getDefaultUntil().toDate(),-1*b("BonsaiConstants").DEFAULT_DAYS_TO_LOAD),until:b("AnalyticsDateDefaults").getDefaultUntil().toDate()}}};e.exports=j}),null);
__d("AnalyticsQueryBuilder",["invariant","Promise","AnalyticsAbstractQueryBuilder","AnalyticsCancelablePromise","AnalyticsDateUtils","AnalyticsQuery","AnalyticsQueryApi"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("AnalyticsCancelablePromise").makeCancelable,i=2419200;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$AnalyticsQueryBuilder10={};b.$AnalyticsQueryBuilder3=[];b.$AnalyticsQueryBuilder5=[];b.$AnalyticsQueryBuilder15=!0;return b}var d=c.prototype;d.setAnalyticsEntityID=function(a){this.$AnalyticsQueryBuilder1=a;return this};d.setEventName=function(a){this.$AnalyticsQueryBuilder2=a;return this};d.setAggregations=function(a){this.$AnalyticsQueryBuilder3=a;return this};d.setBreakdowns=function(a){this.$AnalyticsQueryBuilder5=a;return this};d.setIntervalsToAggregate=function(a){this.$AnalyticsQueryBuilder6=a;return this};d.setAggregationPeriod=function(a){this.$AnalyticsQueryBuilder4=a;return this};d.setFilterSet=function(a){this.$AnalyticsQueryBuilder7=a;return this};d.setFilterSetListing=function(a){a!=null&&(this.$AnalyticsQueryBuilder7=a.getFilterSet());return this};d.setFilters=function(a){this.$AnalyticsQueryBuilder8=a;return this};d.setLimit=function(a){this.$AnalyticsQueryBuilder9=a;return this};d.setMetricParams=function(a){this.$AnalyticsQueryBuilder10=a;return this};d.setOrderingColumns=function(a){this.$AnalyticsQueryBuilder11=a;return this};d.setOrderingType=function(a){this.$AnalyticsQueryBuilder12=a;return this};d.setSince=function(a){this.$AnalyticsQueryBuilder13=a;return this};d.setUntil=function(a){this.$AnalyticsQueryBuilder14=a;return this};d.setDateRangeUTC=function(a){return this.setSince(b("AnalyticsDateUtils").getTimestampForQueryAPI(a.since)).setUntil(b("AnalyticsDateUtils").getTimestampForQueryAPI(a.until))};d.setNotifySamplingStore=function(a){this.$AnalyticsQueryBuilder15=a;return this};d.getTopBreakdownCountInLast28DayQuery=function(){this.$AnalyticsQueryBuilder5.length===1||g(0,3377);this.$AnalyticsQueryBuilder9!==null||g(0,3378);var a=new Date().setHours(0,0,0,0)/1e3,b=a-i;return this.setAggregations(["COUNT"]).setIntervalsToAggregate(0).setOrderingColumns(["COUNT"]).setOrderingType("DESCENDING").setSince(b).setUntil(a).getQuery()};d.getTopUniquesInDateRangeQuery=function(){return this.setAggregations(["USERS"]).setIntervalsToAggregate(0).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").getQuery()};d.getTopUniquesInDateRangeQueryAsPromise=function(){return this.setAggregations(["USERS"]).setIntervalsToAggregate(0).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").getQueryAsPromise()};d.getQuery=function(){this.$AnalyticsQueryBuilder16(!0);this.getCallback()||g(0,3379);this.getErrorCallback()||g(0,3380);return new(b("AnalyticsQuery"))(this.$AnalyticsQueryBuilder1,this.$AnalyticsQueryBuilder2,this.$AnalyticsQueryBuilder3,this.$AnalyticsQueryBuilder5,this.$AnalyticsQueryBuilder4,this.$AnalyticsQueryBuilder6,this.$AnalyticsQueryBuilder7,this.$AnalyticsQueryBuilder8,this.$AnalyticsQueryBuilder9,this.$AnalyticsQueryBuilder10,this.$AnalyticsQueryBuilder11,this.$AnalyticsQueryBuilder12,this.$AnalyticsQueryBuilder13,this.$AnalyticsQueryBuilder14,this.$AnalyticsQueryBuilder15,this.getPreparedCallback(),this.getPreparedErrorCallback(),this.getBeforeSubmit(),this.getSource(),this.getCurrency(),this.getSectionLoadId())};d.getQueryAsPromise=function(){var a=this;this.$AnalyticsQueryBuilder16();var c=new(b("Promise"))(function(c,d){c=new(b("AnalyticsQuery"))(a.$AnalyticsQueryBuilder1,a.$AnalyticsQueryBuilder2,a.$AnalyticsQueryBuilder3,a.$AnalyticsQueryBuilder5,a.$AnalyticsQueryBuilder4,a.$AnalyticsQueryBuilder6,a.$AnalyticsQueryBuilder7,a.$AnalyticsQueryBuilder8,a.$AnalyticsQueryBuilder9,a.$AnalyticsQueryBuilder10,a.$AnalyticsQueryBuilder11,a.$AnalyticsQueryBuilder12,a.$AnalyticsQueryBuilder13,a.$AnalyticsQueryBuilder14,a.$AnalyticsQueryBuilder15,a.prepareCallback(c),a.prepareErrorCallback(d),a.getBeforeSubmit(),a.getSource(),a.getCurrency(),a.getSectionLoadId());b("AnalyticsQueryApi").queryAppEventData([c])});return h(c)};d.$AnalyticsQueryBuilder16=function(){this.$AnalyticsQueryBuilder1!==null||g(0,3381),this.$AnalyticsQueryBuilder2!==null||g(0,3382),this.$AnalyticsQueryBuilder3.length>0||g(0,3383),this.$AnalyticsQueryBuilder6!==null||g(0,3384),this.$AnalyticsQueryBuilder13!==null||g(0,3385),this.$AnalyticsQueryBuilder14!==null||g(0,3386)};return c}(b("AnalyticsAbstractQueryBuilder"));e.exports=a}),null);